{"version":3,"sources":["node_modules/browser-pack/_prelude.js","lib/ApiWay.js","lib/Instance.js","lib/Project.js","lib/Requestable.js","lib/Schedule.js","lib/Scheduler.js","lib/User.js"],"names":[],"mappings":"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","file":"ApiWay.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/**\n * @file\n * @copyright  2017 BlueHack Inc.\n * @license    Licensed under MIT.\n *             Github.js is freely distributable.\n */\n/* eslint valid-jsdoc: [\"error\", {\"requireReturnDescription\": false}] */\n\nimport User from './User';\nimport Project from './Project';\nimport Instance from './Instance';\nimport Schedule from './Schedule';\nimport Scheduler from './Scheduler';\n\n/**\n * ApiWay encapsulates the functionality to create various API wrapper objects.\n */\nclass ApiWay {\n   /**\n    * Create a new ApiWay.\n    * @param {Requestable.auth} [auth] - the credentials to authenticate to ApiWay. If auth is\n    *                                  not provided requests will be made unauthenticated\n    * @param {string} [apiBase=https://api.apiway.io] - the base ApiWay API URL\n    */\n   // constructor(auth, apiBase = 'http://api.apiway.io') {\n    constructor(auth, apiBase = 'http://127.0.0.1:3000') {\n      this.__apiBase = apiBase;\n      this.__auth = auth || {};\n   }\n\n   /**\n    * Create a new User wrapper\n    * @param {string} [user] - the name of the user to get information about\n    *                        leave undefined for the authenticated user\n    * @return {User}\n    */\n   getUser(user) {\n      return new User(user, this.__auth, this.__apiBase);\n   }\n\n   /**\n    * Create a new Project wrapper\n    * @param {string} [fullName] - the name of the project to get information about\n    *                        leave undefined for the authenticated user\n    * @return {Project}\n    */\n   getProject(fullName) {\n      return new Project(fullName, this.__auth, this.__apiBase);\n   }\n\n   /**\n    * Create a new Instance wrapper\n    * @param {string} [instance] - the id of the instance to get information about\n    *                        leave undefined for the authenticated user\n    * @return {Instance}\n    */\n   getInstance(instance) {\n      return new Instance(instance, this.__auth, this.__apiBase);\n   }\n\n   /**\n    * Create a new Schedule wrapper\n    * @param {string} [scheduleId] - the id of the instance to get information about\n    *                        leave undefined for the authenticated user\n    * @return {Schedule}\n    */\n   getSchedule(scheduleId) {\n      return new Schedule(scheduleId, this.__auth, this.__apiBase);\n   }\n\n   /**\n    * Create a new Scheduler wrapper\n    * @param {string} [schedulerId] - the id of the instance to get information about\n    *                        leave undefined for the authenticated user\n    * @return {Schedule}\n    */\n   getScheduler(schedulerId) {\n      return new Scheduler(schedulerId, this.__auth, this.__apiBase);\n   }\n}\n\nmodule.exports = ApiWay;\n","/**\n * @file\n * @copyright  2017 BlueHack Inc.\n * @license    Licensed under MIT.\n *             Github.js is freely distributable.\n */\nimport Requestable from './Requestable';\nimport debug from 'debug';\nconst log = debug('apiway:instance');\n\n/**\n * A Project allows scoping of API requests to a particular ApiWay user.\n */\nclass Instance extends Requestable {\n   /**\n    * Create a Instance.\n    * @param {string} [instance] - the instance to use for user-scoped queries\n    * @param {Requestable.auth} [auth] - information required to authenticate to ApiWay\n    * @param {string} [apiBase=https://api.apiway.io] - the base ApiWay API URL\n    */\n   constructor(instance, auth, apiBase) {\n      super(auth, apiBase);\n      this.instanceId = instance;\n   }\n\n   /**\n    * Get project information\n    * @param {string} [projectId]\n    * @param {Requestable.callback} [cb] - will receive the list of repositories\n    * @return {Promise} - the promise for the http request\n    */\n   getInstance(instanceId, cb) {\n     return this._request('GET', `/instances/${instanceId}`, null, cb);\n   }\n\n   /**\n    * Get user's project list\n    * @param {string} [userId]\n    * @param {object} options -\n    * @param {Requestable.callback} [cb] - will receive the list of repositories\n    * @return {Promise} - the promise for the http request\n    */\n   getInstancesByUser(userId, options, cb) {\n      return this._request('GET', `/instances/users/${userId}`, options, cb);\n   }\n\n   /**\n    * Get project's instance list\n    * @param {string} [projectId]\n    * @param {object} options -\n    * @param {Requestable.callback} [cb] - will receive the list of repositories\n    * @return {Promise} - the promise for the http request\n    */\n   getInstancesByProject(projectId, options, cb) {\n      return this._request('GET', `/instances/projects/${projectId}`, options, cb);\n   }\n\n   /**\n    * Add a new Instance\n    * @param {object} options -\n    * @param {Requestable.callback} [cb] - will receive the API response\n    * @return {Promise} - the promise for the http request\n    */\n   addInstance(options, cb) {\n      return this._request('POST', '/instances', options, cb);\n   }\n\n   /**\n    * Update user's profile (Will create a new user if not exist)\n    * @param {object} options -\n    * @param {Requestable.callback} [cb] - will receive the API response\n    * @return {Promise} - the promise for the http request\n    */\n   updateInstance(instanceId, options, cb) {\n      return this._request('PUT', `/instances/${instanceId}`, options, cb);\n   }\n}\n\nmodule.exports = Instance;\n","/**\n * @file\n * @copyright  2017 BlueHack Inc.\n * @license    Licensed under MIT.\n *             Github.js is freely distributable.\n */\n\nimport Requestable from './Requestable';\nimport debug from 'debug';\nconst log = debug('apiway:project');\n\n/**\n * A Project allows scoping of API requests to a particular ApiWay user.\n */\nclass Project extends Requestable {\n   /**\n    * Create a Project.\n    * @param {string} [fullName] - the project to use for user-scoped queries\n    * @param {Requestable.auth} [auth] - information required to authenticate to ApiWay\n    * @param {string} [apiBase=https://api.apiway.io] - the base ApiWay API URL\n    */\n   constructor(fullName, auth, apiBase) {\n      super(auth, apiBase);\n      this.fullName = fullName;\n   }\n\n   /**\n    * Get project information\n    * @param {string} [projectId]\n    * @param {Requestable.callback} [cb] - will receive the list of repositories\n    * @return {Promise} - the promise for the http request\n    */\n   getProject(projectId, cb) {\n     return this._request('GET', `/projects/${projectId}`, null, cb);\n   }\n\n   /**\n    * Get user's project list\n    * @param {string} [userId]\n    * @param {Requestable.callback} [cb] - will receive the list of repositories\n    * @return {Promise} - the promise for the http request\n    */\n   getProjectsByUser(userId, cb) {\n      return this._request('GET', `/projects/users/${userId}`, null, cb);\n   }\n\n   /**\n    * Add a repo as a Project\n    * @param {object} options -\n    * @param {Requestable.callback} [cb] - will receive the API response\n    * @return {Promise} - the promise for the http request\n    */\n   addProject(options, cb) {\n      return this._request('POST', '/projects', options, cb);\n   }\n\n   /**\n    * Update data of project\n    * @param {string} [projectId]\n    * @param {object} options -\n    * @param {Requestable.callback} [cb] - will receive the API response\n    * @return {Promise} - the promise for the http request\n    */\n   updateProject(projectId, options, cb) {\n      return this._request('PUT', `/projects/${projectId}`, options, cb);\n   }\n\n   /**\n    * Add a email subscriber\n    * @param {string} [projectId]\n    * @param {object} options -\n    * @param {Requestable.callback} [cb] - will receive the API response\n    * @return {Promise} - the promise for the http request\n    */\n   addEmailSubscriber(projectId, options, cb) {\n      return this._request('POST', `/projects/${projectId}/subscribe/email`, options, cb);\n   }\n\n   /**\n    * Delete a email subscriber\n    * @param {string} [projectId]\n    * @param {object} options -\n    * @param {Requestable.callback} [cb] - will receive the API response\n    * @return {Promise} - the promise for the http request\n    */\n   deleteEmailSubscriber(projectId, options, cb) {\n      return this._request('DELETE', `/projects/${projectId}/subscribe/email`, options, cb);\n   }\n\n   setScheduleId(projectId, scheduleId, cb) {\n      var options = {\n         scheduleId: scheduleId\n      }\n      return this._request('PUT', `/projects/${projectId}`, options, cb);\n   }\n\n   /**\n    * Update schedule of project\n    * @param {string} [projectId]\n    * @param {string} [when]\n    * @param {Requestable.callback} [cb] - will receive the API response\n    * @return {Promise} - the promise for the http request\n    */\n   updateScheduleWhen (projectId, when, cb) {\n      let schedule = ''\n      if (when.endsWith('m')) {\n         schedule = `${when.replace('m', '')} * * * *`\n      } else if (when.endsWith('h')) {\n         schedule = `* ${when.replace('h', '')} * * *`\n      }\n      let options = {\n         schedule: schedule\n      }\n      return this._request('PUT', `/projects/${projectId}`, options, cb);\n   }\n\n   /**\n    * Update schedule of project\n    * @param {string} [projectId]\n    * @param {string} [interval]\n    * @param {Requestable.callback} [cb] - will receive the API response\n    * @return {Promise} - the promise for the http request\n    */\n   updateScheduleInterval(projectId, interval, cb) {\n      let schedule = ''\n      if (interval.endsWith('h')) {\n         schedule = `* */${interval.replace('h', '')} * * *`\n      } else if (interval.endsWith('d')) {\n         schedule = `* * */${interval.replace('d', '')} * *`\n      }\n      let options = {\n         schedule: schedule\n      }\n      return this._request('PUT', `/projects/${projectId}`, options, cb);\n   }\n\n   /**\n    * Update schedule of project\n    * @param {string} [projectId]\n    * @param {string} [cron]\n    * @param {Requestable.callback} [cb] - will receive the API response\n    * @return {Promise} - the promise for the http request\n    */\n   updateScheduleCron(projectId, cron, cb) {\n      let options = {\n         schedule: cron\n      }\n      return this._request('PUT', `/projects/${projectId}`, options, cb);\n   }\n\n   /**\n    * Delete a project\n    * @param {string} [projectId]\n    * @param {Requestable.callback} [cb] - will receive the API response\n    * @return {Promise} - the promise for the http request\n    */\n   deleteProject(projectId, cb) {\n      return this._request('DELETE', `/projects/${projectId}`, null, cb);\n   }\n}\n\nmodule.exports = Project;\n","/**\n * @file\n * @copyright  2017 BlueHack Inc.\n * @license    Licensed under MIT.\n *             Github.js is freely distributable.\n */\n\nimport axios from 'axios';\nimport debug from 'debug';\nimport {Base64} from 'js-base64';\n\nconst log = debug('apiway:request');\n\n/**\n * The error structure returned when a network call fails\n */\nclass ResponseError extends Error {\n   /**\n    * Construct a new ResponseError\n    * @param {string} message - an message to return instead of the the default error message\n    * @param {string} path - the requested path\n    * @param {Object} response - the object returned by Axios\n    */\n   constructor(message, path, response) {\n      super(message);\n      this.path = path;\n      this.request = response.config;\n      this.response = (response || {}).response || response;\n      this.status = response.status;\n   }\n}\n\n/**\n * Requestable wraps the logic for making http requests to the API\n */\nclass Requestable {\n   /**\n    * Either a username and password or an oauth token for ApiWay\n    * @typedef {Object} Requestable.auth\n    * @prop {string} [username] - the ApiWay username\n    * @prop {string} [password] - the user's password\n    * @prop {token} [token] - an OAuth token\n    */\n   /**\n    * Initialize the http internals.\n    * @param {Requestable.auth} [auth] - the credentials to authenticate to ApiWay. If auth is\n    *                                  not provided request will be made unauthenticated\n    * @param {string} [apiBase=https://api.apiway.io] - the base ApiWay API URL\n    * @param {string} [AcceptHeader=v3] - the accept header for the requests\n    */\n   constructor(auth, apiBase, AcceptHeader) {\n      // this.__apiBase = apiBase || 'https://api.apiway.io';\n      this.__apiBase = apiBase || 'https://api.apiway.io';\n      this.__auth = {\n         token: auth.token,\n         username: auth.username,\n         password: auth.password,\n      };\n      this.__AcceptHeader = AcceptHeader || 'v3';\n\n      if (auth.token) {\n         this.__authorizationHeader = 'token ' + auth.token;\n      } else if (auth.username && auth.password) {\n         this.__authorizationHeader = 'Basic ' + Base64.encode(auth.username + ':' + auth.password);\n      }\n   }\n\n   /**\n    * Compute the URL to use to make a request.\n    * @private\n    * @param {string} path - either a URL relative to the API base or an absolute URL\n    * @return {string} - the URL to use\n    */\n   __getURL(path) {\n      let url = path;\n\n      if (path.indexOf('//') === -1) {\n         url = this.__apiBase + path;\n      }\n\n      let newCacheBuster = 'timestamp=' + new Date().getTime();\n      return url.replace(/(timestamp=\\d+)/, newCacheBuster);\n   }\n\n   /**\n    * Compute the headers required for an API request.\n    * @private\n    * @param {boolean} raw - if the request should be treated as JSON or as a raw request\n    * @param {string} AcceptHeader - the accept header for the request\n    * @return {Object} - the headers to use in the request\n    */\n   __getRequestHeaders(raw, AcceptHeader) {\n      let headers = {\n         'Content-Type': 'application/json;charset=UTF-8',\n         'Accept': 'application/vnd.apiway.' + (AcceptHeader || this.__AcceptHeader),\n      };\n\n      if (raw) {\n         headers.Accept += '.raw';\n      }\n      headers.Accept += '+json';\n\n      if (this.__authorizationHeader) {\n         headers.Authorization = this.__authorizationHeader;\n      }\n\n      return headers;\n   }\n\n   /**\n    * Sets the default options for API requests\n    * @protected\n    * @param {Object} [requestOptions={}] - the current options for the request\n    * @return {Object} - the options to pass to the request\n    */\n   _getOptionsWithDefaults(requestOptions = {}) {\n      if (!(requestOptions.visibility || requestOptions.affiliation)) {\n         requestOptions.type = requestOptions.type || 'all';\n      }\n      requestOptions.sort = requestOptions.sort || 'updated';\n      requestOptions.per_page = requestOptions.per_page || '100'; // eslint-disable-line\n\n      return requestOptions;\n   }\n\n   /**\n    * if a `Date` is passed to this function it will be converted to an ISO string\n    * @param {*} date - the object to attempt to cooerce into an ISO date string\n    * @return {string} - the ISO representation of `date` or whatever was passed in if it was not a date\n    */\n   _dateToISO(date) {\n      if (date && (date instanceof Date)) {\n         date = date.toISOString();\n      }\n\n      return date;\n   }\n\n   /**\n    * A function that receives the result of the API request.\n    * @callback Requestable.callback\n    * @param {Requestable.Error} error - the error returned by the API or `null`\n    * @param {(Object|true)} result - the data returned by the API or `true` if the API returns `204 No Content`\n    * @param {Object} request - the raw {@linkcode https://apiway.com/mzabriskie/axios#response-schema Response}\n    */\n   /**\n    * Make a request.\n    * @param {string} method - the method for the request (GET, PUT, POST, DELETE)\n    * @param {string} path - the path for the request\n    * @param {*} [data] - the data to send to the server. For HTTP methods that don't have a body the data\n    *                   will be sent as query parameters\n    * @param {Requestable.callback} [cb] - the callback for the request\n    * @param {boolean} [raw=false] - if the request should be sent as raw. If this is a falsy value then the\n    *                              request will be made as JSON\n    * @return {Promise} - the Promise for the http request\n    */\n   _request(method, path, data, cb, raw) {\n      const url = this.__getURL(path);\n      // console.log(url)\n\n      const AcceptHeader = (data || {}).AcceptHeader;\n      if (AcceptHeader) {\n         delete data.AcceptHeader;\n      }\n      const headers = this.__getRequestHeaders(raw, AcceptHeader);\n\n      let queryParams = {};\n\n      const shouldUseDataAsParams = data && (typeof data === 'object') && methodHasNoBody(method);\n      if (shouldUseDataAsParams) {\n         queryParams = data;\n         data = undefined;\n      }\n\n      const config = {\n         url: url,\n         method: method,\n         headers: headers,\n         params: queryParams,\n         data: data,\n         responseType: raw ? 'text' : 'json',\n      };\n\n      // console.log(config)\n      log(`${config.method} to ${config.url}`);\n      const requestPromise = axios(config).catch(callbackErrorOrThrow(cb, path));\n\n      if (cb) {\n         requestPromise.then((response) => {\n            if (response.data && Object.keys(response.data).length > 0) {\n               // When data has results\n               cb(null, response.data, response);\n            } else if (config.method !== 'GET' && Object.keys(response.data).length < 1) {\n               // True when successful submit a request and receive a empty object\n               cb(null, (response.status < 300), response);\n            } else {\n               cb(null, response.data, response);\n            }\n         });\n      }\n\n      return requestPromise;\n   }\n\n   /**\n    * Make a request to an endpoint the returns 204 when true and 404 when false\n    * @param {string} path - the path to request\n    * @param {Object} data - any query parameters for the request\n    * @param {Requestable.callback} cb - the callback that will receive `true` or `false`\n    * @param {method} [method=GET] - HTTP Method to use\n    * @return {Promise} - the promise for the http request\n    */\n   _request204or404(path, data, cb, method = 'GET') {\n      return this._request(method, path, data)\n         .then(function success(response) {\n            if (cb) {\n               cb(null, true, response);\n            }\n            return true;\n         }, function failure(response) {\n            if (response.response.status === 404) {\n               if (cb) {\n                  cb(null, false, response);\n               }\n               return false;\n            }\n\n            if (cb) {\n               cb(response);\n            }\n            throw response;\n         });\n   }\n\n   /**\n    * Make a request and fetch all the available data. ApiWay will paginate responses so for queries\n    * that might span multiple pages this method is preferred to {@link Requestable#request}\n    * @param {string} path - the path to request\n    * @param {Object} options - the query parameters to include\n    * @param {Requestable.callback} [cb] - the function to receive the data. The returned data will always be an array.\n    * @param {Object[]} results - the partial results. This argument is intended for interal use only.\n    * @return {Promise} - a promise which will resolve when all pages have been fetched\n    * @deprecated This will be folded into {@link Requestable#_request} in the 2.0 release.\n    */\n   _requestAllPages(path, options, cb, results) {\n      results = results || [];\n\n      return this._request('GET', path, options)\n         .then((response) => {\n            let thisGroup;\n            if (response.data instanceof Array) {\n               thisGroup = response.data;\n            } else if (response.data.items instanceof Array) {\n               thisGroup = response.data.items;\n            } else {\n               let message = `cannot figure out how to append ${response.data} to the result set`;\n               throw new ResponseError(message, path, response);\n            }\n            results.push(...thisGroup);\n\n            const nextUrl = getNextPage(response.headers.link);\n            if (nextUrl && typeof options.page !== 'number') {\n               log(`getting next page: ${nextUrl}`);\n               return this._requestAllPages(nextUrl, options, cb, results);\n            }\n\n            if (cb) {\n               cb(null, results, response);\n            }\n\n            response.data = results;\n            return response;\n         }).catch(callbackErrorOrThrow(cb, path));\n   }\n}\n\nmodule.exports = Requestable;\n\n// ////////////////////////// //\n//  Private helper functions  //\n// ////////////////////////// //\nconst METHODS_WITH_NO_BODY = ['GET', 'HEAD', 'DELETE'];\nfunction methodHasNoBody(method) {\n   return METHODS_WITH_NO_BODY.indexOf(method) !== -1;\n}\n\nfunction getNextPage(linksHeader = '') {\n   const links = linksHeader.split(/\\s*,\\s*/); // splits and strips the urls\n   return links.reduce(function(nextUrl, link) {\n      if (link.search(/rel=\"next\"/) !== -1) {\n         return (link.match(/<(.*)>/) || [])[1];\n      }\n\n      return nextUrl;\n   }, undefined);\n}\n\nfunction callbackErrorOrThrow(cb, path) {\n   return function handler(object) {\n      let error;\n      if (object.hasOwnProperty('config')) {\n         const {response: {status, statusText}, config: {method, url}} = object;\n         let message = (`${status} error making request ${method} ${url}: \"${statusText}\"`);\n         error = new ResponseError(message, path, object);\n         log(`${message} ${JSON.stringify(object.data)}`);\n      } else {\n         error = object;\n      }\n      if (cb) {\n         log('going to error callback');\n         cb(error);\n      } else {\n         log('throwing error');\n         throw error;\n      }\n   };\n}\n","/**\n * @file\n * @copyright  2017 BlueHack Inc.\n * @license    Licensed under MIT.\n *             Github.js is freely distributable.\n */\n\nimport Requestable from './Requestable';\nimport debug from 'debug';\nconst log = debug('apiway:schedule');\n\n/**\n * A Schedule allows scoping of API requests to a particular ApiWay user.\n */\nclass Schedule extends Requestable {\n   /**\n    * Create a Schedule.\n    * @param {string} [scheduleId] -\n    * @param {Requestable.auth} [auth] - information required to authenticate to ApiWay\n    * @param {string} [apiBase=https://api.apiway.io] - the base ApiWay API URL\n    */\n   constructor(scheduleId, auth, apiBase) {\n      super(auth, apiBase);\n      this.scheduleId = scheduleId;\n   }\n\n   /**\n    * Get schedule information\n    * @param {string} [scheduleId]\n    * @param {Requestable.callback} [cb] - will receive the list of repositories\n    * @return {Promise} - the promise for the http request\n    */\n   getSchedule(scheduleId, cb) {\n     return this._request('GET', `/schedules/${scheduleId}`, null, cb);\n   }\n\n   /**\n    * Get schedule list\n    * @param {string} [scheduleId]\n    * @param {Requestable.callback} [cb] - will receive the list of repositories\n    * @return {Promise} - the promise for the http request\n    */\n   getSchedules(options, cb) {\n      return this._request('GET', `/schedules`, options, cb);\n   }\n\n   /**\n    * Get user's schedules list\n    * @param {string} [userId]\n    * @param {object} options -\n    * @param {Requestable.callback} [cb] - will receive the list of repositories\n    * @return {Promise} - the promise for the http request\n    */\n   getSchedulesByUser(userId, options, cb) {\n      return this._request('GET', `/schedules/users/${userId}`, options, cb);\n   }\n\n   /**\n    * Get project related schedule list\n    * @param {string} [projectId]\n    * @param {object} options -\n    * @param {Requestable.callback} [cb] - will receive the list of repositories\n    * @return {Promise} - the promise for the http request\n    */\n   getSchedulesByProject(projectId, options, cb) {\n      return this._request('GET', `/schedules/projects/${projectId}`, options, cb);\n   }\n\n   /**\n    * Create a schedule\n    * @param {object} options -\n    * @param {Requestable.callback} [cb] - will receive the API response\n    * @return {Promise} - the promise for the http request\n    */\n   addSchedule(options, cb) {\n      return this._request('POST', '/schedules', options, cb);\n   }\n\n   /**\n    * Update data of schedule\n    * @param {string} [scheduleId]\n    * @param {object} options -\n    * @param {Requestable.callback} [cb] - will receive the API response\n    * @return {Promise} - the promise for the http request\n    */\n   updateSchedule(scheduleId, options, cb) {\n      return this._request('PUT', `/schedules/${scheduleId}`, options, cb);\n   }\n\n   /**\n    * Update cron of Schedule\n    * @param {string} [scheduleId]\n    * @param {string} [when]\n    * @param {Requestable.callback} [cb] - will receive the API response\n    * @return {Promise} - the promise for the http request\n    */\n   updateScheduleWhen (scheduleId, when, cb) {\n      let schedule = ''\n      if (when.endsWith('m')) {\n         schedule = `${when.replace('m', '')} * * * *`\n      } else if (when.endsWith('h')) {\n         schedule = `* ${when.replace('h', '')} * * *`\n      }\n      let options = {\n         cron: schedule\n      }\n      return this._request('PUT', `/schedules/${scheduleId}`, options, cb);\n   }\n\n   /**\n    * Update cron of Schedule\n    * @param {string} [scheduleId]\n    * @param {string} [interval]\n    * @param {Requestable.callback} [cb] - will receive the API response\n    * @return {Promise} - the promise for the http request\n    */\n   updateScheduleInterval(scheduleId, interval, cb) {\n      let schedule = ''\n      if (interval.endsWith('h')) {\n         schedule = `* */${interval.replace('h', '')} * * *`\n      } else if (interval.endsWith('d')) {\n         schedule = `* * */${interval.replace('d', '')} * *`\n      }\n      let options = {\n         cron: schedule\n      }\n      return this._request('PUT', `/schedules/${scheduleId}`, options, cb);\n   }\n\n   /**\n    * Update cron of Schedule\n    * @param {string} [scheduleId]\n    * @param {string} [cron]\n    * @param {Requestable.callback} [cb] - will receive the API response\n    * @return {Promise} - the promise for the http request\n    */\n   updateCron(scheduleId, cron, cb) {\n      let options = {\n         cron: cron\n      }\n      return this._request('PUT', `/schedules/${scheduleId}`, options, cb);\n   }\n\n   /**\n    * Update state of Schedule\n    * @param {string} [scheduleId]\n    * @param {string} [state]\n    * @param {Requestable.callback} [cb] - will receive the API response\n    * @return {Promise} - the promise for the http request\n    */\n   updateState(scheduleId, state, cb) {\n      let options = {\n         state: state\n      }\n      return this._request('PUT', `/schedules/${scheduleId}`, options, cb);\n   }\n\n   /**\n    * Delete a schedule\n    * @param {string} [scheduleId]\n    * @param {Requestable.callback} [cb] - will receive the API response\n    * @return {Promise} - the promise for the http request\n    */\n   deleteSchedule(scheduleId, cb) {\n      return this._request('DELETE', `/schedules/${scheduleId}`, null, cb);\n   }\n\n   /**\n    * Delete schedules by userId\n    * @param {string} [userId]\n    * @param {Requestable.callback} [cb] - will receive the API response\n    * @return {Promise} - the promise for the http request\n    */\n   deleteSchedulesByUser(userId, cb) {\n      return this._request('DELETE', `/schedules/users/${userId}`, null, cb);\n   }\n\n   /**\n    * Delete schedules by projectId\n    * @param {string} [projectId]\n    * @param {Requestable.callback} [cb] - will receive the API response\n    * @return {Promise} - the promise for the http request\n    */\n   deleteSchedulesByProject(projectId, cb) {\n      return this._request('DELETE', `/schedules/projects/${projectId}`, null, cb);\n   }\n}\n\nmodule.exports = Schedule;\n","/**\n * @file\n * @copyright  2017 BlueHack Inc.\n * @license    Licensed under MIT.\n *             Github.js is freely distributable.\n */\n\nimport Requestable from './Requestable';\nimport debug from 'debug';\nconst log = debug('apiway:scheduler');\n\n/**\n * A Schedule allows scoping of API requests to a particular ApiWay user.\n */\nclass Scheduler extends Requestable {\n   /**\n    * Create a Schedule.\n    * @param {string} [schedulerId] -\n    * @param {Requestable.auth} [auth] - information required to authenticate to ApiWay\n    * @param {string} [apiBase=https://api.apiway.io] - the base ApiWay API URL\n    */\n   constructor(schedulerId, auth, apiBase) {\n      super(auth, apiBase);\n      this.schedulerId = schedulerId;\n   }\n\n   /**\n    * Create a Scheduler\n    * @param {object} options -\n    * @param {Requestable.callback} [cb] - will receive the API response\n    * @return {Promise} - the promise for the http request\n    */\n   addScheduler(options, cb) {\n      return this._request('POST', '/schedulers', options, cb);\n   }\n\n   /**\n    * Update Scheduler\n    * @param {string} [schedulerId]\n    * @param {object} options -\n    * @param {Requestable.callback} [cb] - will receive the API response\n    * @return {Promise} - the promise for the http request\n    */\n   updateScheduler(schedulerId, options, cb) {\n      return this._request('PUT', `/schedulers/${schedulerId}`, options, cb);\n   }\n\n   /**\n    * Add Schedules\n    * @param {string} [schedulerId]\n    * @param {Requestable.callback} [cb] - will receive the list of repositories\n    * @return {Promise} - the promise for the http request\n    */\n   getScheduler(schedulerId, cb) {\n     return this._request('GET', `/schedulers/${schedulerId}`, null, cb);\n   }\n\n   /**\n    * Get Scheduler list\n    * @param {string} [schedulerId]\n    * @param {object} options -\n    * @param {Requestable.callback} [cb] - will receive the list of repositories\n    * @return {Promise} - the promise for the http request\n    */\n   getSchedulers(options, cb) {\n      return this._request('GET', `/schedulers`, options, cb);\n   }\n\n   /**\n    * Delete a Scheduler\n    * @param {string} [schedulerId]\n    * @param {object} options -\n    * @param {Requestable.callback} [cb] - will receive the API response\n    * @return {Promise} - the promise for the http request\n    */\n   deleteScheduler(schedulerId, options, cb) {\n      return this._request('DELETE', `/schedulers/${schedulerId}`, options, cb);\n   }\n\n   /**\n    * Delete a Schedule in aScheduler\n    * @param {string} [scheduleId]\n    * @param {object} options -\n    * @param {Requestable.callback} [cb] - will receive the API response\n    * @return {Promise} - the promise for the http request\n    */\n   deleteSchedule(scheduleId, options, cb) {\n      return this._request('DELETE', `/schedulers/${scheduleId}`, options, cb);\n   }\n}\n\nmodule.exports = Scheduler;\n","/**\n * @file\n * @copyright  2017 BlueHack Inc.\n * @license    Licensed under MIT.\n *             Github.js is freely distributable.\n */\nimport Requestable from './Requestable';\nimport debug from 'debug';\nconst log = debug('apiway:user');\n\n/**\n * A User allows scoping of API requests to a particular ApiWay user.\n */\nclass User extends Requestable {\n   /**\n    * Create a User.\n    * @param {string} [username] - the user to use for user-scoped queries\n    * @param {Requestable.auth} [auth] - information required to authenticate to ApiWay\n    * @param {string} [apiBase=https://api.apiway.io] - the base ApiWay API URL\n    */\n   constructor(username, auth, apiBase) {\n      super(auth, apiBase);\n      this.__user = username;\n   }\n\n   /**\n    * Get the user's profile\n    * @param {string} [userId]\n    * @param {Requestable.callback} [cb] - will receive the list of repositories\n    * @return {Promise} - the promise for the http request\n    */\n   getProfile(userId, cb) {\n     return this._request('GET', `/users/${userId}`, null, cb);\n   }\n\n   /**\n    * Update user's profile (Will create a new user if not exist)\n    * @param {object} options -\n    * @param {Requestable.callback} [cb] - will receive the API response\n    * @return {Promise} - the promise for the http request\n    */\n   updateProfile(options, cb) {\n      return this._request('POST', '/users', options, cb);\n   }\n}\n\nmodule.exports = User;\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJsaWIvQXBpV2F5LmpzIiwibGliL0luc3RhbmNlLmpzIiwibGliL1Byb2plY3QuanMiLCJsaWIvUmVxdWVzdGFibGUuanMiLCJsaWIvU2NoZWR1bGUuanMiLCJsaWIvU2NoZWR1bGVyLmpzIiwibGliL1VzZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztxakJDQUE7Ozs7OztBQU1BOztBQUVBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7Ozs7O0FBRUE7OztJQUdNLE07QUFDSDs7Ozs7O0FBTUE7QUFDQyxrQkFBWSxJQUFaLEVBQXFEO0FBQUEsUUFBbkMsT0FBbUMsdUVBQXpCLHVCQUF5Qjs7QUFBQTs7QUFDbkQsU0FBSyxTQUFMLEdBQWlCLE9BQWpCO0FBQ0EsU0FBSyxNQUFMLEdBQWMsUUFBUSxFQUF0QjtBQUNGOztBQUVEOzs7Ozs7Ozs7OzRCQU1RLEksRUFBTTtBQUNYLGFBQU8sbUJBQVMsSUFBVCxFQUFlLEtBQUssTUFBcEIsRUFBNEIsS0FBSyxTQUFqQyxDQUFQO0FBQ0Y7O0FBRUQ7Ozs7Ozs7OzsrQkFNVyxRLEVBQVU7QUFDbEIsYUFBTyxzQkFBWSxRQUFaLEVBQXNCLEtBQUssTUFBM0IsRUFBbUMsS0FBSyxTQUF4QyxDQUFQO0FBQ0Y7O0FBRUQ7Ozs7Ozs7OztnQ0FNWSxRLEVBQVU7QUFDbkIsYUFBTyx1QkFBYSxRQUFiLEVBQXVCLEtBQUssTUFBNUIsRUFBb0MsS0FBSyxTQUF6QyxDQUFQO0FBQ0Y7O0FBRUQ7Ozs7Ozs7OztnQ0FNWSxVLEVBQVk7QUFDckIsYUFBTyx1QkFBYSxVQUFiLEVBQXlCLEtBQUssTUFBOUIsRUFBc0MsS0FBSyxTQUEzQyxDQUFQO0FBQ0Y7O0FBRUQ7Ozs7Ozs7OztpQ0FNYSxXLEVBQWE7QUFDdkIsYUFBTyx3QkFBYyxXQUFkLEVBQTJCLEtBQUssTUFBaEMsRUFBd0MsS0FBSyxTQUE3QyxDQUFQO0FBQ0Y7Ozs7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QUFyRCxFQUE4RCxFQUE5RCxDQUFQO0FBQ0Y7Ozs7OztBQUdKLE9BQU8sT0FBUCxHQUFpQixTQUFqQjs7Ozs7OztBQ3JGQTs7OztBQUNBOzs7Ozs7Ozs7OytlQVBBOzs7Ozs7OztBQVFBLElBQU0sTUFBTSxxQkFBTSxhQUFOLENBQVo7O0FBRUE7Ozs7SUFHTSxJOzs7QUFDSDs7Ozs7O0FBTUEsZ0JBQVksUUFBWixFQUFzQixJQUF0QixFQUE0QixPQUE1QixFQUFxQztBQUFBOztBQUFBLDRHQUM1QixJQUQ0QixFQUN0QixPQURzQjs7QUFFbEMsVUFBSyxNQUFMLEdBQWMsUUFBZDtBQUZrQztBQUdwQzs7QUFFRDs7Ozs7Ozs7OzsrQkFNVyxNLEVBQVEsRSxFQUFJO0FBQ3JCLGFBQU8sS0FBSyxRQUFMLENBQWMsS0FBZCxjQUErQixNQUEvQixFQUF5QyxJQUF6QyxFQUErQyxFQUEvQyxDQUFQO0FBQ0Q7O0FBRUQ7Ozs7Ozs7OztrQ0FNYyxPLEVBQVMsRSxFQUFJO0FBQ3hCLGFBQU8sS0FBSyxRQUFMLENBQWMsTUFBZCxFQUFzQixRQUF0QixFQUFnQyxPQUFoQyxFQUF5QyxFQUF6QyxDQUFQO0FBQ0Y7Ozs7OztBQUdKLE9BQU8sT0FBUCxHQUFpQixJQUFqQiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIvKipcbiAqIEBmaWxlXG4gKiBAY29weXJpZ2h0ICAyMDE3IEJsdWVIYWNrIEluYy5cbiAqIEBsaWNlbnNlICAgIExpY2Vuc2VkIHVuZGVyIE1JVC5cbiAqICAgICAgICAgICAgIEdpdGh1Yi5qcyBpcyBmcmVlbHkgZGlzdHJpYnV0YWJsZS5cbiAqL1xuLyogZXNsaW50IHZhbGlkLWpzZG9jOiBbXCJlcnJvclwiLCB7XCJyZXF1aXJlUmV0dXJuRGVzY3JpcHRpb25cIjogZmFsc2V9XSAqL1xuXG5pbXBvcnQgVXNlciBmcm9tICcuL1VzZXInO1xuaW1wb3J0IFByb2plY3QgZnJvbSAnLi9Qcm9qZWN0JztcbmltcG9ydCBJbnN0YW5jZSBmcm9tICcuL0luc3RhbmNlJztcbmltcG9ydCBTY2hlZHVsZSBmcm9tICcuL1NjaGVkdWxlJztcbmltcG9ydCBTY2hlZHVsZXIgZnJvbSAnLi9TY2hlZHVsZXInO1xuXG4vKipcbiAqIEFwaVdheSBlbmNhcHN1bGF0ZXMgdGhlIGZ1bmN0aW9uYWxpdHkgdG8gY3JlYXRlIHZhcmlvdXMgQVBJIHdyYXBwZXIgb2JqZWN0cy5cbiAqL1xuY2xhc3MgQXBpV2F5IHtcbiAgIC8qKlxuICAgICogQ3JlYXRlIGEgbmV3IEFwaVdheS5cbiAgICAqIEBwYXJhbSB7UmVxdWVzdGFibGUuYXV0aH0gW2F1dGhdIC0gdGhlIGNyZWRlbnRpYWxzIHRvIGF1dGhlbnRpY2F0ZSB0byBBcGlXYXkuIElmIGF1dGggaXNcbiAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdCBwcm92aWRlZCByZXF1ZXN0cyB3aWxsIGJlIG1hZGUgdW5hdXRoZW50aWNhdGVkXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gW2FwaUJhc2U9aHR0cHM6Ly9hcGkuYXBpd2F5LmlvXSAtIHRoZSBiYXNlIEFwaVdheSBBUEkgVVJMXG4gICAgKi9cbiAgIC8vIGNvbnN0cnVjdG9yKGF1dGgsIGFwaUJhc2UgPSAnaHR0cDovL2FwaS5hcGl3YXkuaW8nKSB7XG4gICAgY29uc3RydWN0b3IoYXV0aCwgYXBpQmFzZSA9ICdodHRwOi8vMTI3LjAuMC4xOjMwMDAnKSB7XG4gICAgICB0aGlzLl9fYXBpQmFzZSA9IGFwaUJhc2U7XG4gICAgICB0aGlzLl9fYXV0aCA9IGF1dGggfHwge307XG4gICB9XG5cbiAgIC8qKlxuICAgICogQ3JlYXRlIGEgbmV3IFVzZXIgd3JhcHBlclxuICAgICogQHBhcmFtIHtzdHJpbmd9IFt1c2VyXSAtIHRoZSBuYW1lIG9mIHRoZSB1c2VyIHRvIGdldCBpbmZvcm1hdGlvbiBhYm91dFxuICAgICogICAgICAgICAgICAgICAgICAgICAgICBsZWF2ZSB1bmRlZmluZWQgZm9yIHRoZSBhdXRoZW50aWNhdGVkIHVzZXJcbiAgICAqIEByZXR1cm4ge1VzZXJ9XG4gICAgKi9cbiAgIGdldFVzZXIodXNlcikge1xuICAgICAgcmV0dXJuIG5ldyBVc2VyKHVzZXIsIHRoaXMuX19hdXRoLCB0aGlzLl9fYXBpQmFzZSk7XG4gICB9XG5cbiAgIC8qKlxuICAgICogQ3JlYXRlIGEgbmV3IFByb2plY3Qgd3JhcHBlclxuICAgICogQHBhcmFtIHtzdHJpbmd9IFtmdWxsTmFtZV0gLSB0aGUgbmFtZSBvZiB0aGUgcHJvamVjdCB0byBnZXQgaW5mb3JtYXRpb24gYWJvdXRcbiAgICAqICAgICAgICAgICAgICAgICAgICAgICAgbGVhdmUgdW5kZWZpbmVkIGZvciB0aGUgYXV0aGVudGljYXRlZCB1c2VyXG4gICAgKiBAcmV0dXJuIHtQcm9qZWN0fVxuICAgICovXG4gICBnZXRQcm9qZWN0KGZ1bGxOYW1lKSB7XG4gICAgICByZXR1cm4gbmV3IFByb2plY3QoZnVsbE5hbWUsIHRoaXMuX19hdXRoLCB0aGlzLl9fYXBpQmFzZSk7XG4gICB9XG5cbiAgIC8qKlxuICAgICogQ3JlYXRlIGEgbmV3IEluc3RhbmNlIHdyYXBwZXJcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBbaW5zdGFuY2VdIC0gdGhlIGlkIG9mIHRoZSBpbnN0YW5jZSB0byBnZXQgaW5mb3JtYXRpb24gYWJvdXRcbiAgICAqICAgICAgICAgICAgICAgICAgICAgICAgbGVhdmUgdW5kZWZpbmVkIGZvciB0aGUgYXV0aGVudGljYXRlZCB1c2VyXG4gICAgKiBAcmV0dXJuIHtJbnN0YW5jZX1cbiAgICAqL1xuICAgZ2V0SW5zdGFuY2UoaW5zdGFuY2UpIHtcbiAgICAgIHJldHVybiBuZXcgSW5zdGFuY2UoaW5zdGFuY2UsIHRoaXMuX19hdXRoLCB0aGlzLl9fYXBpQmFzZSk7XG4gICB9XG5cbiAgIC8qKlxuICAgICogQ3JlYXRlIGEgbmV3IFNjaGVkdWxlIHdyYXBwZXJcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2NoZWR1bGVJZF0gLSB0aGUgaWQgb2YgdGhlIGluc3RhbmNlIHRvIGdldCBpbmZvcm1hdGlvbiBhYm91dFxuICAgICogICAgICAgICAgICAgICAgICAgICAgICBsZWF2ZSB1bmRlZmluZWQgZm9yIHRoZSBhdXRoZW50aWNhdGVkIHVzZXJcbiAgICAqIEByZXR1cm4ge1NjaGVkdWxlfVxuICAgICovXG4gICBnZXRTY2hlZHVsZShzY2hlZHVsZUlkKSB7XG4gICAgICByZXR1cm4gbmV3IFNjaGVkdWxlKHNjaGVkdWxlSWQsIHRoaXMuX19hdXRoLCB0aGlzLl9fYXBpQmFzZSk7XG4gICB9XG5cbiAgIC8qKlxuICAgICogQ3JlYXRlIGEgbmV3IFNjaGVkdWxlciB3cmFwcGVyXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gW3NjaGVkdWxlcklkXSAtIHRoZSBpZCBvZiB0aGUgaW5zdGFuY2UgdG8gZ2V0IGluZm9ybWF0aW9uIGFib3V0XG4gICAgKiAgICAgICAgICAgICAgICAgICAgICAgIGxlYXZlIHVuZGVmaW5lZCBmb3IgdGhlIGF1dGhlbnRpY2F0ZWQgdXNlclxuICAgICogQHJldHVybiB7U2NoZWR1bGV9XG4gICAgKi9cbiAgIGdldFNjaGVkdWxlcihzY2hlZHVsZXJJZCkge1xuICAgICAgcmV0dXJuIG5ldyBTY2hlZHVsZXIoc2NoZWR1bGVySWQsIHRoaXMuX19hdXRoLCB0aGlzLl9fYXBpQmFzZSk7XG4gICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQXBpV2F5O1xuIiwiLyoqXG4gKiBAZmlsZVxuICogQGNvcHlyaWdodCAgMjAxNyBCbHVlSGFjayBJbmMuXG4gKiBAbGljZW5zZSAgICBMaWNlbnNlZCB1bmRlciBNSVQuXG4gKiAgICAgICAgICAgICBHaXRodWIuanMgaXMgZnJlZWx5IGRpc3RyaWJ1dGFibGUuXG4gKi9cbmltcG9ydCBSZXF1ZXN0YWJsZSBmcm9tICcuL1JlcXVlc3RhYmxlJztcbmltcG9ydCBkZWJ1ZyBmcm9tICdkZWJ1Zyc7XG5jb25zdCBsb2cgPSBkZWJ1ZygnYXBpd2F5Omluc3RhbmNlJyk7XG5cbi8qKlxuICogQSBQcm9qZWN0IGFsbG93cyBzY29waW5nIG9mIEFQSSByZXF1ZXN0cyB0byBhIHBhcnRpY3VsYXIgQXBpV2F5IHVzZXIuXG4gKi9cbmNsYXNzIEluc3RhbmNlIGV4dGVuZHMgUmVxdWVzdGFibGUge1xuICAgLyoqXG4gICAgKiBDcmVhdGUgYSBJbnN0YW5jZS5cbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBbaW5zdGFuY2VdIC0gdGhlIGluc3RhbmNlIHRvIHVzZSBmb3IgdXNlci1zY29wZWQgcXVlcmllc1xuICAgICogQHBhcmFtIHtSZXF1ZXN0YWJsZS5hdXRofSBbYXV0aF0gLSBpbmZvcm1hdGlvbiByZXF1aXJlZCB0byBhdXRoZW50aWNhdGUgdG8gQXBpV2F5XG4gICAgKiBAcGFyYW0ge3N0cmluZ30gW2FwaUJhc2U9aHR0cHM6Ly9hcGkuYXBpd2F5LmlvXSAtIHRoZSBiYXNlIEFwaVdheSBBUEkgVVJMXG4gICAgKi9cbiAgIGNvbnN0cnVjdG9yKGluc3RhbmNlLCBhdXRoLCBhcGlCYXNlKSB7XG4gICAgICBzdXBlcihhdXRoLCBhcGlCYXNlKTtcbiAgICAgIHRoaXMuaW5zdGFuY2VJZCA9IGluc3RhbmNlO1xuICAgfVxuXG4gICAvKipcbiAgICAqIEdldCBwcm9qZWN0IGluZm9ybWF0aW9uXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gW3Byb2plY3RJZF1cbiAgICAqIEBwYXJhbSB7UmVxdWVzdGFibGUuY2FsbGJhY2t9IFtjYl0gLSB3aWxsIHJlY2VpdmUgdGhlIGxpc3Qgb2YgcmVwb3NpdG9yaWVzXG4gICAgKiBAcmV0dXJuIHtQcm9taXNlfSAtIHRoZSBwcm9taXNlIGZvciB0aGUgaHR0cCByZXF1ZXN0XG4gICAgKi9cbiAgIGdldEluc3RhbmNlKGluc3RhbmNlSWQsIGNiKSB7XG4gICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KCdHRVQnLCBgL2luc3RhbmNlcy8ke2luc3RhbmNlSWR9YCwgbnVsbCwgY2IpO1xuICAgfVxuXG4gICAvKipcbiAgICAqIEdldCB1c2VyJ3MgcHJvamVjdCBsaXN0XG4gICAgKiBAcGFyYW0ge3N0cmluZ30gW3VzZXJJZF1cbiAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC1cbiAgICAqIEBwYXJhbSB7UmVxdWVzdGFibGUuY2FsbGJhY2t9IFtjYl0gLSB3aWxsIHJlY2VpdmUgdGhlIGxpc3Qgb2YgcmVwb3NpdG9yaWVzXG4gICAgKiBAcmV0dXJuIHtQcm9taXNlfSAtIHRoZSBwcm9taXNlIGZvciB0aGUgaHR0cCByZXF1ZXN0XG4gICAgKi9cbiAgIGdldEluc3RhbmNlc0J5VXNlcih1c2VySWQsIG9wdGlvbnMsIGNiKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnR0VUJywgYC9pbnN0YW5jZXMvdXNlcnMvJHt1c2VySWR9YCwgb3B0aW9ucywgY2IpO1xuICAgfVxuXG4gICAvKipcbiAgICAqIEdldCBwcm9qZWN0J3MgaW5zdGFuY2UgbGlzdFxuICAgICogQHBhcmFtIHtzdHJpbmd9IFtwcm9qZWN0SWRdXG4gICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtXG4gICAgKiBAcGFyYW0ge1JlcXVlc3RhYmxlLmNhbGxiYWNrfSBbY2JdIC0gd2lsbCByZWNlaXZlIHRoZSBsaXN0IG9mIHJlcG9zaXRvcmllc1xuICAgICogQHJldHVybiB7UHJvbWlzZX0gLSB0aGUgcHJvbWlzZSBmb3IgdGhlIGh0dHAgcmVxdWVzdFxuICAgICovXG4gICBnZXRJbnN0YW5jZXNCeVByb2plY3QocHJvamVjdElkLCBvcHRpb25zLCBjYikge1xuICAgICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ0dFVCcsIGAvaW5zdGFuY2VzL3Byb2plY3RzLyR7cHJvamVjdElkfWAsIG9wdGlvbnMsIGNiKTtcbiAgIH1cblxuICAgLyoqXG4gICAgKiBBZGQgYSBuZXcgSW5zdGFuY2VcbiAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC1cbiAgICAqIEBwYXJhbSB7UmVxdWVzdGFibGUuY2FsbGJhY2t9IFtjYl0gLSB3aWxsIHJlY2VpdmUgdGhlIEFQSSByZXNwb25zZVxuICAgICogQHJldHVybiB7UHJvbWlzZX0gLSB0aGUgcHJvbWlzZSBmb3IgdGhlIGh0dHAgcmVxdWVzdFxuICAgICovXG4gICBhZGRJbnN0YW5jZShvcHRpb25zLCBjYikge1xuICAgICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ1BPU1QnLCAnL2luc3RhbmNlcycsIG9wdGlvbnMsIGNiKTtcbiAgIH1cblxuICAgLyoqXG4gICAgKiBVcGRhdGUgdXNlcidzIHByb2ZpbGUgKFdpbGwgY3JlYXRlIGEgbmV3IHVzZXIgaWYgbm90IGV4aXN0KVxuICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLVxuICAgICogQHBhcmFtIHtSZXF1ZXN0YWJsZS5jYWxsYmFja30gW2NiXSAtIHdpbGwgcmVjZWl2ZSB0aGUgQVBJIHJlc3BvbnNlXG4gICAgKiBAcmV0dXJuIHtQcm9taXNlfSAtIHRoZSBwcm9taXNlIGZvciB0aGUgaHR0cCByZXF1ZXN0XG4gICAgKi9cbiAgIHVwZGF0ZUluc3RhbmNlKGluc3RhbmNlSWQsIG9wdGlvbnMsIGNiKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnUFVUJywgYC9pbnN0YW5jZXMvJHtpbnN0YW5jZUlkfWAsIG9wdGlvbnMsIGNiKTtcbiAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBJbnN0YW5jZTtcbiIsIi8qKlxuICogQGZpbGVcbiAqIEBjb3B5cmlnaHQgIDIwMTcgQmx1ZUhhY2sgSW5jLlxuICogQGxpY2Vuc2UgICAgTGljZW5zZWQgdW5kZXIgTUlULlxuICogICAgICAgICAgICAgR2l0aHViLmpzIGlzIGZyZWVseSBkaXN0cmlidXRhYmxlLlxuICovXG5cbmltcG9ydCBSZXF1ZXN0YWJsZSBmcm9tICcuL1JlcXVlc3RhYmxlJztcbmltcG9ydCBkZWJ1ZyBmcm9tICdkZWJ1Zyc7XG5jb25zdCBsb2cgPSBkZWJ1ZygnYXBpd2F5OnByb2plY3QnKTtcblxuLyoqXG4gKiBBIFByb2plY3QgYWxsb3dzIHNjb3Bpbmcgb2YgQVBJIHJlcXVlc3RzIHRvIGEgcGFydGljdWxhciBBcGlXYXkgdXNlci5cbiAqL1xuY2xhc3MgUHJvamVjdCBleHRlbmRzIFJlcXVlc3RhYmxlIHtcbiAgIC8qKlxuICAgICogQ3JlYXRlIGEgUHJvamVjdC5cbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBbZnVsbE5hbWVdIC0gdGhlIHByb2plY3QgdG8gdXNlIGZvciB1c2VyLXNjb3BlZCBxdWVyaWVzXG4gICAgKiBAcGFyYW0ge1JlcXVlc3RhYmxlLmF1dGh9IFthdXRoXSAtIGluZm9ybWF0aW9uIHJlcXVpcmVkIHRvIGF1dGhlbnRpY2F0ZSB0byBBcGlXYXlcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBbYXBpQmFzZT1odHRwczovL2FwaS5hcGl3YXkuaW9dIC0gdGhlIGJhc2UgQXBpV2F5IEFQSSBVUkxcbiAgICAqL1xuICAgY29uc3RydWN0b3IoZnVsbE5hbWUsIGF1dGgsIGFwaUJhc2UpIHtcbiAgICAgIHN1cGVyKGF1dGgsIGFwaUJhc2UpO1xuICAgICAgdGhpcy5mdWxsTmFtZSA9IGZ1bGxOYW1lO1xuICAgfVxuXG4gICAvKipcbiAgICAqIEdldCBwcm9qZWN0IGluZm9ybWF0aW9uXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gW3Byb2plY3RJZF1cbiAgICAqIEBwYXJhbSB7UmVxdWVzdGFibGUuY2FsbGJhY2t9IFtjYl0gLSB3aWxsIHJlY2VpdmUgdGhlIGxpc3Qgb2YgcmVwb3NpdG9yaWVzXG4gICAgKiBAcmV0dXJuIHtQcm9taXNlfSAtIHRoZSBwcm9taXNlIGZvciB0aGUgaHR0cCByZXF1ZXN0XG4gICAgKi9cbiAgIGdldFByb2plY3QocHJvamVjdElkLCBjYikge1xuICAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnR0VUJywgYC9wcm9qZWN0cy8ke3Byb2plY3RJZH1gLCBudWxsLCBjYik7XG4gICB9XG5cbiAgIC8qKlxuICAgICogR2V0IHVzZXIncyBwcm9qZWN0IGxpc3RcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdXNlcklkXVxuICAgICogQHBhcmFtIHtSZXF1ZXN0YWJsZS5jYWxsYmFja30gW2NiXSAtIHdpbGwgcmVjZWl2ZSB0aGUgbGlzdCBvZiByZXBvc2l0b3JpZXNcbiAgICAqIEByZXR1cm4ge1Byb21pc2V9IC0gdGhlIHByb21pc2UgZm9yIHRoZSBodHRwIHJlcXVlc3RcbiAgICAqL1xuICAgZ2V0UHJvamVjdHNCeVVzZXIodXNlcklkLCBjYikge1xuICAgICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ0dFVCcsIGAvcHJvamVjdHMvdXNlcnMvJHt1c2VySWR9YCwgbnVsbCwgY2IpO1xuICAgfVxuXG4gICAvKipcbiAgICAqIEFkZCBhIHJlcG8gYXMgYSBQcm9qZWN0XG4gICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtXG4gICAgKiBAcGFyYW0ge1JlcXVlc3RhYmxlLmNhbGxiYWNrfSBbY2JdIC0gd2lsbCByZWNlaXZlIHRoZSBBUEkgcmVzcG9uc2VcbiAgICAqIEByZXR1cm4ge1Byb21pc2V9IC0gdGhlIHByb21pc2UgZm9yIHRoZSBodHRwIHJlcXVlc3RcbiAgICAqL1xuICAgYWRkUHJvamVjdChvcHRpb25zLCBjYikge1xuICAgICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ1BPU1QnLCAnL3Byb2plY3RzJywgb3B0aW9ucywgY2IpO1xuICAgfVxuXG4gICAvKipcbiAgICAqIFVwZGF0ZSBkYXRhIG9mIHByb2plY3RcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcHJvamVjdElkXVxuICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLVxuICAgICogQHBhcmFtIHtSZXF1ZXN0YWJsZS5jYWxsYmFja30gW2NiXSAtIHdpbGwgcmVjZWl2ZSB0aGUgQVBJIHJlc3BvbnNlXG4gICAgKiBAcmV0dXJuIHtQcm9taXNlfSAtIHRoZSBwcm9taXNlIGZvciB0aGUgaHR0cCByZXF1ZXN0XG4gICAgKi9cbiAgIHVwZGF0ZVByb2plY3QocHJvamVjdElkLCBvcHRpb25zLCBjYikge1xuICAgICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ1BVVCcsIGAvcHJvamVjdHMvJHtwcm9qZWN0SWR9YCwgb3B0aW9ucywgY2IpO1xuICAgfVxuXG4gICAvKipcbiAgICAqIEFkZCBhIGVtYWlsIHN1YnNjcmliZXJcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcHJvamVjdElkXVxuICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLVxuICAgICogQHBhcmFtIHtSZXF1ZXN0YWJsZS5jYWxsYmFja30gW2NiXSAtIHdpbGwgcmVjZWl2ZSB0aGUgQVBJIHJlc3BvbnNlXG4gICAgKiBAcmV0dXJuIHtQcm9taXNlfSAtIHRoZSBwcm9taXNlIGZvciB0aGUgaHR0cCByZXF1ZXN0XG4gICAgKi9cbiAgIGFkZEVtYWlsU3Vic2NyaWJlcihwcm9qZWN0SWQsIG9wdGlvbnMsIGNiKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnUE9TVCcsIGAvcHJvamVjdHMvJHtwcm9qZWN0SWR9L3N1YnNjcmliZS9lbWFpbGAsIG9wdGlvbnMsIGNiKTtcbiAgIH1cblxuICAgLyoqXG4gICAgKiBEZWxldGUgYSBlbWFpbCBzdWJzY3JpYmVyXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gW3Byb2plY3RJZF1cbiAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC1cbiAgICAqIEBwYXJhbSB7UmVxdWVzdGFibGUuY2FsbGJhY2t9IFtjYl0gLSB3aWxsIHJlY2VpdmUgdGhlIEFQSSByZXNwb25zZVxuICAgICogQHJldHVybiB7UHJvbWlzZX0gLSB0aGUgcHJvbWlzZSBmb3IgdGhlIGh0dHAgcmVxdWVzdFxuICAgICovXG4gICBkZWxldGVFbWFpbFN1YnNjcmliZXIocHJvamVjdElkLCBvcHRpb25zLCBjYikge1xuICAgICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ0RFTEVURScsIGAvcHJvamVjdHMvJHtwcm9qZWN0SWR9L3N1YnNjcmliZS9lbWFpbGAsIG9wdGlvbnMsIGNiKTtcbiAgIH1cblxuICAgc2V0U2NoZWR1bGVJZChwcm9qZWN0SWQsIHNjaGVkdWxlSWQsIGNiKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgIHNjaGVkdWxlSWQ6IHNjaGVkdWxlSWRcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KCdQVVQnLCBgL3Byb2plY3RzLyR7cHJvamVjdElkfWAsIG9wdGlvbnMsIGNiKTtcbiAgIH1cblxuICAgLyoqXG4gICAgKiBVcGRhdGUgc2NoZWR1bGUgb2YgcHJvamVjdFxuICAgICogQHBhcmFtIHtzdHJpbmd9IFtwcm9qZWN0SWRdXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gW3doZW5dXG4gICAgKiBAcGFyYW0ge1JlcXVlc3RhYmxlLmNhbGxiYWNrfSBbY2JdIC0gd2lsbCByZWNlaXZlIHRoZSBBUEkgcmVzcG9uc2VcbiAgICAqIEByZXR1cm4ge1Byb21pc2V9IC0gdGhlIHByb21pc2UgZm9yIHRoZSBodHRwIHJlcXVlc3RcbiAgICAqL1xuICAgdXBkYXRlU2NoZWR1bGVXaGVuIChwcm9qZWN0SWQsIHdoZW4sIGNiKSB7XG4gICAgICBsZXQgc2NoZWR1bGUgPSAnJ1xuICAgICAgaWYgKHdoZW4uZW5kc1dpdGgoJ20nKSkge1xuICAgICAgICAgc2NoZWR1bGUgPSBgJHt3aGVuLnJlcGxhY2UoJ20nLCAnJyl9ICogKiAqICpgXG4gICAgICB9IGVsc2UgaWYgKHdoZW4uZW5kc1dpdGgoJ2gnKSkge1xuICAgICAgICAgc2NoZWR1bGUgPSBgKiAke3doZW4ucmVwbGFjZSgnaCcsICcnKX0gKiAqICpgXG4gICAgICB9XG4gICAgICBsZXQgb3B0aW9ucyA9IHtcbiAgICAgICAgIHNjaGVkdWxlOiBzY2hlZHVsZVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ1BVVCcsIGAvcHJvamVjdHMvJHtwcm9qZWN0SWR9YCwgb3B0aW9ucywgY2IpO1xuICAgfVxuXG4gICAvKipcbiAgICAqIFVwZGF0ZSBzY2hlZHVsZSBvZiBwcm9qZWN0XG4gICAgKiBAcGFyYW0ge3N0cmluZ30gW3Byb2plY3RJZF1cbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBbaW50ZXJ2YWxdXG4gICAgKiBAcGFyYW0ge1JlcXVlc3RhYmxlLmNhbGxiYWNrfSBbY2JdIC0gd2lsbCByZWNlaXZlIHRoZSBBUEkgcmVzcG9uc2VcbiAgICAqIEByZXR1cm4ge1Byb21pc2V9IC0gdGhlIHByb21pc2UgZm9yIHRoZSBodHRwIHJlcXVlc3RcbiAgICAqL1xuICAgdXBkYXRlU2NoZWR1bGVJbnRlcnZhbChwcm9qZWN0SWQsIGludGVydmFsLCBjYikge1xuICAgICAgbGV0IHNjaGVkdWxlID0gJydcbiAgICAgIGlmIChpbnRlcnZhbC5lbmRzV2l0aCgnaCcpKSB7XG4gICAgICAgICBzY2hlZHVsZSA9IGAqICovJHtpbnRlcnZhbC5yZXBsYWNlKCdoJywgJycpfSAqICogKmBcbiAgICAgIH0gZWxzZSBpZiAoaW50ZXJ2YWwuZW5kc1dpdGgoJ2QnKSkge1xuICAgICAgICAgc2NoZWR1bGUgPSBgKiAqICovJHtpbnRlcnZhbC5yZXBsYWNlKCdkJywgJycpfSAqICpgXG4gICAgICB9XG4gICAgICBsZXQgb3B0aW9ucyA9IHtcbiAgICAgICAgIHNjaGVkdWxlOiBzY2hlZHVsZVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ1BVVCcsIGAvcHJvamVjdHMvJHtwcm9qZWN0SWR9YCwgb3B0aW9ucywgY2IpO1xuICAgfVxuXG4gICAvKipcbiAgICAqIFVwZGF0ZSBzY2hlZHVsZSBvZiBwcm9qZWN0XG4gICAgKiBAcGFyYW0ge3N0cmluZ30gW3Byb2plY3RJZF1cbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY3Jvbl1cbiAgICAqIEBwYXJhbSB7UmVxdWVzdGFibGUuY2FsbGJhY2t9IFtjYl0gLSB3aWxsIHJlY2VpdmUgdGhlIEFQSSByZXNwb25zZVxuICAgICogQHJldHVybiB7UHJvbWlzZX0gLSB0aGUgcHJvbWlzZSBmb3IgdGhlIGh0dHAgcmVxdWVzdFxuICAgICovXG4gICB1cGRhdGVTY2hlZHVsZUNyb24ocHJvamVjdElkLCBjcm9uLCBjYikge1xuICAgICAgbGV0IG9wdGlvbnMgPSB7XG4gICAgICAgICBzY2hlZHVsZTogY3JvblxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ1BVVCcsIGAvcHJvamVjdHMvJHtwcm9qZWN0SWR9YCwgb3B0aW9ucywgY2IpO1xuICAgfVxuXG4gICAvKipcbiAgICAqIERlbGV0ZSBhIHByb2plY3RcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcHJvamVjdElkXVxuICAgICogQHBhcmFtIHtSZXF1ZXN0YWJsZS5jYWxsYmFja30gW2NiXSAtIHdpbGwgcmVjZWl2ZSB0aGUgQVBJIHJlc3BvbnNlXG4gICAgKiBAcmV0dXJuIHtQcm9taXNlfSAtIHRoZSBwcm9taXNlIGZvciB0aGUgaHR0cCByZXF1ZXN0XG4gICAgKi9cbiAgIGRlbGV0ZVByb2plY3QocHJvamVjdElkLCBjYikge1xuICAgICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ0RFTEVURScsIGAvcHJvamVjdHMvJHtwcm9qZWN0SWR9YCwgbnVsbCwgY2IpO1xuICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFByb2plY3Q7XG4iLCIvKipcbiAqIEBmaWxlXG4gKiBAY29weXJpZ2h0ICAyMDE3IEJsdWVIYWNrIEluYy5cbiAqIEBsaWNlbnNlICAgIExpY2Vuc2VkIHVuZGVyIE1JVC5cbiAqICAgICAgICAgICAgIEdpdGh1Yi5qcyBpcyBmcmVlbHkgZGlzdHJpYnV0YWJsZS5cbiAqL1xuXG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuaW1wb3J0IGRlYnVnIGZyb20gJ2RlYnVnJztcbmltcG9ydCB7QmFzZTY0fSBmcm9tICdqcy1iYXNlNjQnO1xuXG5jb25zdCBsb2cgPSBkZWJ1ZygnYXBpd2F5OnJlcXVlc3QnKTtcblxuLyoqXG4gKiBUaGUgZXJyb3Igc3RydWN0dXJlIHJldHVybmVkIHdoZW4gYSBuZXR3b3JrIGNhbGwgZmFpbHNcbiAqL1xuY2xhc3MgUmVzcG9uc2VFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgIC8qKlxuICAgICogQ29uc3RydWN0IGEgbmV3IFJlc3BvbnNlRXJyb3JcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIC0gYW4gbWVzc2FnZSB0byByZXR1cm4gaW5zdGVhZCBvZiB0aGUgdGhlIGRlZmF1bHQgZXJyb3IgbWVzc2FnZVxuICAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSB0aGUgcmVxdWVzdGVkIHBhdGhcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSByZXNwb25zZSAtIHRoZSBvYmplY3QgcmV0dXJuZWQgYnkgQXhpb3NcbiAgICAqL1xuICAgY29uc3RydWN0b3IobWVzc2FnZSwgcGF0aCwgcmVzcG9uc2UpIHtcbiAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgICAgdGhpcy5wYXRoID0gcGF0aDtcbiAgICAgIHRoaXMucmVxdWVzdCA9IHJlc3BvbnNlLmNvbmZpZztcbiAgICAgIHRoaXMucmVzcG9uc2UgPSAocmVzcG9uc2UgfHwge30pLnJlc3BvbnNlIHx8IHJlc3BvbnNlO1xuICAgICAgdGhpcy5zdGF0dXMgPSByZXNwb25zZS5zdGF0dXM7XG4gICB9XG59XG5cbi8qKlxuICogUmVxdWVzdGFibGUgd3JhcHMgdGhlIGxvZ2ljIGZvciBtYWtpbmcgaHR0cCByZXF1ZXN0cyB0byB0aGUgQVBJXG4gKi9cbmNsYXNzIFJlcXVlc3RhYmxlIHtcbiAgIC8qKlxuICAgICogRWl0aGVyIGEgdXNlcm5hbWUgYW5kIHBhc3N3b3JkIG9yIGFuIG9hdXRoIHRva2VuIGZvciBBcGlXYXlcbiAgICAqIEB0eXBlZGVmIHtPYmplY3R9IFJlcXVlc3RhYmxlLmF1dGhcbiAgICAqIEBwcm9wIHtzdHJpbmd9IFt1c2VybmFtZV0gLSB0aGUgQXBpV2F5IHVzZXJuYW1lXG4gICAgKiBAcHJvcCB7c3RyaW5nfSBbcGFzc3dvcmRdIC0gdGhlIHVzZXIncyBwYXNzd29yZFxuICAgICogQHByb3Age3Rva2VufSBbdG9rZW5dIC0gYW4gT0F1dGggdG9rZW5cbiAgICAqL1xuICAgLyoqXG4gICAgKiBJbml0aWFsaXplIHRoZSBodHRwIGludGVybmFscy5cbiAgICAqIEBwYXJhbSB7UmVxdWVzdGFibGUuYXV0aH0gW2F1dGhdIC0gdGhlIGNyZWRlbnRpYWxzIHRvIGF1dGhlbnRpY2F0ZSB0byBBcGlXYXkuIElmIGF1dGggaXNcbiAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdCBwcm92aWRlZCByZXF1ZXN0IHdpbGwgYmUgbWFkZSB1bmF1dGhlbnRpY2F0ZWRcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBbYXBpQmFzZT1odHRwczovL2FwaS5hcGl3YXkuaW9dIC0gdGhlIGJhc2UgQXBpV2F5IEFQSSBVUkxcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBbQWNjZXB0SGVhZGVyPXYzXSAtIHRoZSBhY2NlcHQgaGVhZGVyIGZvciB0aGUgcmVxdWVzdHNcbiAgICAqL1xuICAgY29uc3RydWN0b3IoYXV0aCwgYXBpQmFzZSwgQWNjZXB0SGVhZGVyKSB7XG4gICAgICAvLyB0aGlzLl9fYXBpQmFzZSA9IGFwaUJhc2UgfHwgJ2h0dHBzOi8vYXBpLmFwaXdheS5pbyc7XG4gICAgICB0aGlzLl9fYXBpQmFzZSA9IGFwaUJhc2UgfHwgJ2h0dHBzOi8vYXBpLmFwaXdheS5pbyc7XG4gICAgICB0aGlzLl9fYXV0aCA9IHtcbiAgICAgICAgIHRva2VuOiBhdXRoLnRva2VuLFxuICAgICAgICAgdXNlcm5hbWU6IGF1dGgudXNlcm5hbWUsXG4gICAgICAgICBwYXNzd29yZDogYXV0aC5wYXNzd29yZCxcbiAgICAgIH07XG4gICAgICB0aGlzLl9fQWNjZXB0SGVhZGVyID0gQWNjZXB0SGVhZGVyIHx8ICd2Myc7XG5cbiAgICAgIGlmIChhdXRoLnRva2VuKSB7XG4gICAgICAgICB0aGlzLl9fYXV0aG9yaXphdGlvbkhlYWRlciA9ICd0b2tlbiAnICsgYXV0aC50b2tlbjtcbiAgICAgIH0gZWxzZSBpZiAoYXV0aC51c2VybmFtZSAmJiBhdXRoLnBhc3N3b3JkKSB7XG4gICAgICAgICB0aGlzLl9fYXV0aG9yaXphdGlvbkhlYWRlciA9ICdCYXNpYyAnICsgQmFzZTY0LmVuY29kZShhdXRoLnVzZXJuYW1lICsgJzonICsgYXV0aC5wYXNzd29yZCk7XG4gICAgICB9XG4gICB9XG5cbiAgIC8qKlxuICAgICogQ29tcHV0ZSB0aGUgVVJMIHRvIHVzZSB0byBtYWtlIGEgcmVxdWVzdC5cbiAgICAqIEBwcml2YXRlXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIGVpdGhlciBhIFVSTCByZWxhdGl2ZSB0byB0aGUgQVBJIGJhc2Ugb3IgYW4gYWJzb2x1dGUgVVJMXG4gICAgKiBAcmV0dXJuIHtzdHJpbmd9IC0gdGhlIFVSTCB0byB1c2VcbiAgICAqL1xuICAgX19nZXRVUkwocGF0aCkge1xuICAgICAgbGV0IHVybCA9IHBhdGg7XG5cbiAgICAgIGlmIChwYXRoLmluZGV4T2YoJy8vJykgPT09IC0xKSB7XG4gICAgICAgICB1cmwgPSB0aGlzLl9fYXBpQmFzZSArIHBhdGg7XG4gICAgICB9XG5cbiAgICAgIGxldCBuZXdDYWNoZUJ1c3RlciA9ICd0aW1lc3RhbXA9JyArIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgcmV0dXJuIHVybC5yZXBsYWNlKC8odGltZXN0YW1wPVxcZCspLywgbmV3Q2FjaGVCdXN0ZXIpO1xuICAgfVxuXG4gICAvKipcbiAgICAqIENvbXB1dGUgdGhlIGhlYWRlcnMgcmVxdWlyZWQgZm9yIGFuIEFQSSByZXF1ZXN0LlxuICAgICogQHByaXZhdGVcbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcmF3IC0gaWYgdGhlIHJlcXVlc3Qgc2hvdWxkIGJlIHRyZWF0ZWQgYXMgSlNPTiBvciBhcyBhIHJhdyByZXF1ZXN0XG4gICAgKiBAcGFyYW0ge3N0cmluZ30gQWNjZXB0SGVhZGVyIC0gdGhlIGFjY2VwdCBoZWFkZXIgZm9yIHRoZSByZXF1ZXN0XG4gICAgKiBAcmV0dXJuIHtPYmplY3R9IC0gdGhlIGhlYWRlcnMgdG8gdXNlIGluIHRoZSByZXF1ZXN0XG4gICAgKi9cbiAgIF9fZ2V0UmVxdWVzdEhlYWRlcnMocmF3LCBBY2NlcHRIZWFkZXIpIHtcbiAgICAgIGxldCBoZWFkZXJzID0ge1xuICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9VVRGLTgnLFxuICAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi92bmQuYXBpd2F5LicgKyAoQWNjZXB0SGVhZGVyIHx8IHRoaXMuX19BY2NlcHRIZWFkZXIpLFxuICAgICAgfTtcblxuICAgICAgaWYgKHJhdykge1xuICAgICAgICAgaGVhZGVycy5BY2NlcHQgKz0gJy5yYXcnO1xuICAgICAgfVxuICAgICAgaGVhZGVycy5BY2NlcHQgKz0gJytqc29uJztcblxuICAgICAgaWYgKHRoaXMuX19hdXRob3JpemF0aW9uSGVhZGVyKSB7XG4gICAgICAgICBoZWFkZXJzLkF1dGhvcml6YXRpb24gPSB0aGlzLl9fYXV0aG9yaXphdGlvbkhlYWRlcjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGhlYWRlcnM7XG4gICB9XG5cbiAgIC8qKlxuICAgICogU2V0cyB0aGUgZGVmYXVsdCBvcHRpb25zIGZvciBBUEkgcmVxdWVzdHNcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBbcmVxdWVzdE9wdGlvbnM9e31dIC0gdGhlIGN1cnJlbnQgb3B0aW9ucyBmb3IgdGhlIHJlcXVlc3RcbiAgICAqIEByZXR1cm4ge09iamVjdH0gLSB0aGUgb3B0aW9ucyB0byBwYXNzIHRvIHRoZSByZXF1ZXN0XG4gICAgKi9cbiAgIF9nZXRPcHRpb25zV2l0aERlZmF1bHRzKHJlcXVlc3RPcHRpb25zID0ge30pIHtcbiAgICAgIGlmICghKHJlcXVlc3RPcHRpb25zLnZpc2liaWxpdHkgfHwgcmVxdWVzdE9wdGlvbnMuYWZmaWxpYXRpb24pKSB7XG4gICAgICAgICByZXF1ZXN0T3B0aW9ucy50eXBlID0gcmVxdWVzdE9wdGlvbnMudHlwZSB8fCAnYWxsJztcbiAgICAgIH1cbiAgICAgIHJlcXVlc3RPcHRpb25zLnNvcnQgPSByZXF1ZXN0T3B0aW9ucy5zb3J0IHx8ICd1cGRhdGVkJztcbiAgICAgIHJlcXVlc3RPcHRpb25zLnBlcl9wYWdlID0gcmVxdWVzdE9wdGlvbnMucGVyX3BhZ2UgfHwgJzEwMCc7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblxuICAgICAgcmV0dXJuIHJlcXVlc3RPcHRpb25zO1xuICAgfVxuXG4gICAvKipcbiAgICAqIGlmIGEgYERhdGVgIGlzIHBhc3NlZCB0byB0aGlzIGZ1bmN0aW9uIGl0IHdpbGwgYmUgY29udmVydGVkIHRvIGFuIElTTyBzdHJpbmdcbiAgICAqIEBwYXJhbSB7Kn0gZGF0ZSAtIHRoZSBvYmplY3QgdG8gYXR0ZW1wdCB0byBjb29lcmNlIGludG8gYW4gSVNPIGRhdGUgc3RyaW5nXG4gICAgKiBAcmV0dXJuIHtzdHJpbmd9IC0gdGhlIElTTyByZXByZXNlbnRhdGlvbiBvZiBgZGF0ZWAgb3Igd2hhdGV2ZXIgd2FzIHBhc3NlZCBpbiBpZiBpdCB3YXMgbm90IGEgZGF0ZVxuICAgICovXG4gICBfZGF0ZVRvSVNPKGRhdGUpIHtcbiAgICAgIGlmIChkYXRlICYmIChkYXRlIGluc3RhbmNlb2YgRGF0ZSkpIHtcbiAgICAgICAgIGRhdGUgPSBkYXRlLnRvSVNPU3RyaW5nKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkYXRlO1xuICAgfVxuXG4gICAvKipcbiAgICAqIEEgZnVuY3Rpb24gdGhhdCByZWNlaXZlcyB0aGUgcmVzdWx0IG9mIHRoZSBBUEkgcmVxdWVzdC5cbiAgICAqIEBjYWxsYmFjayBSZXF1ZXN0YWJsZS5jYWxsYmFja1xuICAgICogQHBhcmFtIHtSZXF1ZXN0YWJsZS5FcnJvcn0gZXJyb3IgLSB0aGUgZXJyb3IgcmV0dXJuZWQgYnkgdGhlIEFQSSBvciBgbnVsbGBcbiAgICAqIEBwYXJhbSB7KE9iamVjdHx0cnVlKX0gcmVzdWx0IC0gdGhlIGRhdGEgcmV0dXJuZWQgYnkgdGhlIEFQSSBvciBgdHJ1ZWAgaWYgdGhlIEFQSSByZXR1cm5zIGAyMDQgTm8gQ29udGVudGBcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSByZXF1ZXN0IC0gdGhlIHJhdyB7QGxpbmtjb2RlIGh0dHBzOi8vYXBpd2F5LmNvbS9temFicmlza2llL2F4aW9zI3Jlc3BvbnNlLXNjaGVtYSBSZXNwb25zZX1cbiAgICAqL1xuICAgLyoqXG4gICAgKiBNYWtlIGEgcmVxdWVzdC5cbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2QgLSB0aGUgbWV0aG9kIGZvciB0aGUgcmVxdWVzdCAoR0VULCBQVVQsIFBPU1QsIERFTEVURSlcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gdGhlIHBhdGggZm9yIHRoZSByZXF1ZXN0XG4gICAgKiBAcGFyYW0geyp9IFtkYXRhXSAtIHRoZSBkYXRhIHRvIHNlbmQgdG8gdGhlIHNlcnZlci4gRm9yIEhUVFAgbWV0aG9kcyB0aGF0IGRvbid0IGhhdmUgYSBib2R5IHRoZSBkYXRhXG4gICAgKiAgICAgICAgICAgICAgICAgICB3aWxsIGJlIHNlbnQgYXMgcXVlcnkgcGFyYW1ldGVyc1xuICAgICogQHBhcmFtIHtSZXF1ZXN0YWJsZS5jYWxsYmFja30gW2NiXSAtIHRoZSBjYWxsYmFjayBmb3IgdGhlIHJlcXVlc3RcbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Jhdz1mYWxzZV0gLSBpZiB0aGUgcmVxdWVzdCBzaG91bGQgYmUgc2VudCBhcyByYXcuIElmIHRoaXMgaXMgYSBmYWxzeSB2YWx1ZSB0aGVuIHRoZVxuICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0IHdpbGwgYmUgbWFkZSBhcyBKU09OXG4gICAgKiBAcmV0dXJuIHtQcm9taXNlfSAtIHRoZSBQcm9taXNlIGZvciB0aGUgaHR0cCByZXF1ZXN0XG4gICAgKi9cbiAgIF9yZXF1ZXN0KG1ldGhvZCwgcGF0aCwgZGF0YSwgY2IsIHJhdykge1xuICAgICAgY29uc3QgdXJsID0gdGhpcy5fX2dldFVSTChwYXRoKTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKHVybClcblxuICAgICAgY29uc3QgQWNjZXB0SGVhZGVyID0gKGRhdGEgfHwge30pLkFjY2VwdEhlYWRlcjtcbiAgICAgIGlmIChBY2NlcHRIZWFkZXIpIHtcbiAgICAgICAgIGRlbGV0ZSBkYXRhLkFjY2VwdEhlYWRlcjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGhlYWRlcnMgPSB0aGlzLl9fZ2V0UmVxdWVzdEhlYWRlcnMocmF3LCBBY2NlcHRIZWFkZXIpO1xuXG4gICAgICBsZXQgcXVlcnlQYXJhbXMgPSB7fTtcblxuICAgICAgY29uc3Qgc2hvdWxkVXNlRGF0YUFzUGFyYW1zID0gZGF0YSAmJiAodHlwZW9mIGRhdGEgPT09ICdvYmplY3QnKSAmJiBtZXRob2RIYXNOb0JvZHkobWV0aG9kKTtcbiAgICAgIGlmIChzaG91bGRVc2VEYXRhQXNQYXJhbXMpIHtcbiAgICAgICAgIHF1ZXJ5UGFyYW1zID0gZGF0YTtcbiAgICAgICAgIGRhdGEgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGNvbmZpZyA9IHtcbiAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgcGFyYW1zOiBxdWVyeVBhcmFtcyxcbiAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICByZXNwb25zZVR5cGU6IHJhdyA/ICd0ZXh0JyA6ICdqc29uJyxcbiAgICAgIH07XG5cbiAgICAgIC8vIGNvbnNvbGUubG9nKGNvbmZpZylcbiAgICAgIGxvZyhgJHtjb25maWcubWV0aG9kfSB0byAke2NvbmZpZy51cmx9YCk7XG4gICAgICBjb25zdCByZXF1ZXN0UHJvbWlzZSA9IGF4aW9zKGNvbmZpZykuY2F0Y2goY2FsbGJhY2tFcnJvck9yVGhyb3coY2IsIHBhdGgpKTtcblxuICAgICAgaWYgKGNiKSB7XG4gICAgICAgICByZXF1ZXN0UHJvbWlzZS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgJiYgT2JqZWN0LmtleXMocmVzcG9uc2UuZGF0YSkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgLy8gV2hlbiBkYXRhIGhhcyByZXN1bHRzXG4gICAgICAgICAgICAgICBjYihudWxsLCByZXNwb25zZS5kYXRhLCByZXNwb25zZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvbmZpZy5tZXRob2QgIT09ICdHRVQnICYmIE9iamVjdC5rZXlzKHJlc3BvbnNlLmRhdGEpLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgICAgIC8vIFRydWUgd2hlbiBzdWNjZXNzZnVsIHN1Ym1pdCBhIHJlcXVlc3QgYW5kIHJlY2VpdmUgYSBlbXB0eSBvYmplY3RcbiAgICAgICAgICAgICAgIGNiKG51bGwsIChyZXNwb25zZS5zdGF0dXMgPCAzMDApLCByZXNwb25zZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgY2IobnVsbCwgcmVzcG9uc2UuZGF0YSwgcmVzcG9uc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXF1ZXN0UHJvbWlzZTtcbiAgIH1cblxuICAgLyoqXG4gICAgKiBNYWtlIGEgcmVxdWVzdCB0byBhbiBlbmRwb2ludCB0aGUgcmV0dXJucyAyMDQgd2hlbiB0cnVlIGFuZCA0MDQgd2hlbiBmYWxzZVxuICAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSB0aGUgcGF0aCB0byByZXF1ZXN0XG4gICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSAtIGFueSBxdWVyeSBwYXJhbWV0ZXJzIGZvciB0aGUgcmVxdWVzdFxuICAgICogQHBhcmFtIHtSZXF1ZXN0YWJsZS5jYWxsYmFja30gY2IgLSB0aGUgY2FsbGJhY2sgdGhhdCB3aWxsIHJlY2VpdmUgYHRydWVgIG9yIGBmYWxzZWBcbiAgICAqIEBwYXJhbSB7bWV0aG9kfSBbbWV0aG9kPUdFVF0gLSBIVFRQIE1ldGhvZCB0byB1c2VcbiAgICAqIEByZXR1cm4ge1Byb21pc2V9IC0gdGhlIHByb21pc2UgZm9yIHRoZSBodHRwIHJlcXVlc3RcbiAgICAqL1xuICAgX3JlcXVlc3QyMDRvcjQwNChwYXRoLCBkYXRhLCBjYiwgbWV0aG9kID0gJ0dFVCcpIHtcbiAgICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KG1ldGhvZCwgcGF0aCwgZGF0YSlcbiAgICAgICAgIC50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGlmIChjYikge1xuICAgICAgICAgICAgICAgY2IobnVsbCwgdHJ1ZSwgcmVzcG9uc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICB9LCBmdW5jdGlvbiBmYWlsdXJlKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2UucmVzcG9uc2Uuc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgICAgICAgIGlmIChjYikge1xuICAgICAgICAgICAgICAgICAgY2IobnVsbCwgZmFsc2UsIHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNiKSB7XG4gICAgICAgICAgICAgICBjYihyZXNwb25zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyByZXNwb25zZTtcbiAgICAgICAgIH0pO1xuICAgfVxuXG4gICAvKipcbiAgICAqIE1ha2UgYSByZXF1ZXN0IGFuZCBmZXRjaCBhbGwgdGhlIGF2YWlsYWJsZSBkYXRhLiBBcGlXYXkgd2lsbCBwYWdpbmF0ZSByZXNwb25zZXMgc28gZm9yIHF1ZXJpZXNcbiAgICAqIHRoYXQgbWlnaHQgc3BhbiBtdWx0aXBsZSBwYWdlcyB0aGlzIG1ldGhvZCBpcyBwcmVmZXJyZWQgdG8ge0BsaW5rIFJlcXVlc3RhYmxlI3JlcXVlc3R9XG4gICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIHRoZSBwYXRoIHRvIHJlcXVlc3RcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gdGhlIHF1ZXJ5IHBhcmFtZXRlcnMgdG8gaW5jbHVkZVxuICAgICogQHBhcmFtIHtSZXF1ZXN0YWJsZS5jYWxsYmFja30gW2NiXSAtIHRoZSBmdW5jdGlvbiB0byByZWNlaXZlIHRoZSBkYXRhLiBUaGUgcmV0dXJuZWQgZGF0YSB3aWxsIGFsd2F5cyBiZSBhbiBhcnJheS5cbiAgICAqIEBwYXJhbSB7T2JqZWN0W119IHJlc3VsdHMgLSB0aGUgcGFydGlhbCByZXN1bHRzLiBUaGlzIGFyZ3VtZW50IGlzIGludGVuZGVkIGZvciBpbnRlcmFsIHVzZSBvbmx5LlxuICAgICogQHJldHVybiB7UHJvbWlzZX0gLSBhIHByb21pc2Ugd2hpY2ggd2lsbCByZXNvbHZlIHdoZW4gYWxsIHBhZ2VzIGhhdmUgYmVlbiBmZXRjaGVkXG4gICAgKiBAZGVwcmVjYXRlZCBUaGlzIHdpbGwgYmUgZm9sZGVkIGludG8ge0BsaW5rIFJlcXVlc3RhYmxlI19yZXF1ZXN0fSBpbiB0aGUgMi4wIHJlbGVhc2UuXG4gICAgKi9cbiAgIF9yZXF1ZXN0QWxsUGFnZXMocGF0aCwgb3B0aW9ucywgY2IsIHJlc3VsdHMpIHtcbiAgICAgIHJlc3VsdHMgPSByZXN1bHRzIHx8IFtdO1xuXG4gICAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnR0VUJywgcGF0aCwgb3B0aW9ucylcbiAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgbGV0IHRoaXNHcm91cDtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgIHRoaXNHcm91cCA9IHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEuaXRlbXMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgdGhpc0dyb3VwID0gcmVzcG9uc2UuZGF0YS5pdGVtcztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICBsZXQgbWVzc2FnZSA9IGBjYW5ub3QgZmlndXJlIG91dCBob3cgdG8gYXBwZW5kICR7cmVzcG9uc2UuZGF0YX0gdG8gdGhlIHJlc3VsdCBzZXRgO1xuICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJlc3BvbnNlRXJyb3IobWVzc2FnZSwgcGF0aCwgcmVzcG9uc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0cy5wdXNoKC4uLnRoaXNHcm91cCk7XG5cbiAgICAgICAgICAgIGNvbnN0IG5leHRVcmwgPSBnZXROZXh0UGFnZShyZXNwb25zZS5oZWFkZXJzLmxpbmspO1xuICAgICAgICAgICAgaWYgKG5leHRVcmwgJiYgdHlwZW9mIG9wdGlvbnMucGFnZSAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgIGxvZyhgZ2V0dGluZyBuZXh0IHBhZ2U6ICR7bmV4dFVybH1gKTtcbiAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0QWxsUGFnZXMobmV4dFVybCwgb3B0aW9ucywgY2IsIHJlc3VsdHMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY2IpIHtcbiAgICAgICAgICAgICAgIGNiKG51bGwsIHJlc3VsdHMsIHJlc3BvbnNlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVzcG9uc2UuZGF0YSA9IHJlc3VsdHM7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgICB9KS5jYXRjaChjYWxsYmFja0Vycm9yT3JUaHJvdyhjYiwgcGF0aCkpO1xuICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFJlcXVlc3RhYmxlO1xuXG4vLyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyAvL1xuLy8gIFByaXZhdGUgaGVscGVyIGZ1bmN0aW9ucyAgLy9cbi8vIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIC8vXG5jb25zdCBNRVRIT0RTX1dJVEhfTk9fQk9EWSA9IFsnR0VUJywgJ0hFQUQnLCAnREVMRVRFJ107XG5mdW5jdGlvbiBtZXRob2RIYXNOb0JvZHkobWV0aG9kKSB7XG4gICByZXR1cm4gTUVUSE9EU19XSVRIX05PX0JPRFkuaW5kZXhPZihtZXRob2QpICE9PSAtMTtcbn1cblxuZnVuY3Rpb24gZ2V0TmV4dFBhZ2UobGlua3NIZWFkZXIgPSAnJykge1xuICAgY29uc3QgbGlua3MgPSBsaW5rc0hlYWRlci5zcGxpdCgvXFxzKixcXHMqLyk7IC8vIHNwbGl0cyBhbmQgc3RyaXBzIHRoZSB1cmxzXG4gICByZXR1cm4gbGlua3MucmVkdWNlKGZ1bmN0aW9uKG5leHRVcmwsIGxpbmspIHtcbiAgICAgIGlmIChsaW5rLnNlYXJjaCgvcmVsPVwibmV4dFwiLykgIT09IC0xKSB7XG4gICAgICAgICByZXR1cm4gKGxpbmsubWF0Y2goLzwoLiopPi8pIHx8IFtdKVsxXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5leHRVcmw7XG4gICB9LCB1bmRlZmluZWQpO1xufVxuXG5mdW5jdGlvbiBjYWxsYmFja0Vycm9yT3JUaHJvdyhjYiwgcGF0aCkge1xuICAgcmV0dXJuIGZ1bmN0aW9uIGhhbmRsZXIob2JqZWN0KSB7XG4gICAgICBsZXQgZXJyb3I7XG4gICAgICBpZiAob2JqZWN0Lmhhc093blByb3BlcnR5KCdjb25maWcnKSkge1xuICAgICAgICAgY29uc3Qge3Jlc3BvbnNlOiB7c3RhdHVzLCBzdGF0dXNUZXh0fSwgY29uZmlnOiB7bWV0aG9kLCB1cmx9fSA9IG9iamVjdDtcbiAgICAgICAgIGxldCBtZXNzYWdlID0gKGAke3N0YXR1c30gZXJyb3IgbWFraW5nIHJlcXVlc3QgJHttZXRob2R9ICR7dXJsfTogXCIke3N0YXR1c1RleHR9XCJgKTtcbiAgICAgICAgIGVycm9yID0gbmV3IFJlc3BvbnNlRXJyb3IobWVzc2FnZSwgcGF0aCwgb2JqZWN0KTtcbiAgICAgICAgIGxvZyhgJHttZXNzYWdlfSAke0pTT04uc3RyaW5naWZ5KG9iamVjdC5kYXRhKX1gKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICBlcnJvciA9IG9iamVjdDtcbiAgICAgIH1cbiAgICAgIGlmIChjYikge1xuICAgICAgICAgbG9nKCdnb2luZyB0byBlcnJvciBjYWxsYmFjaycpO1xuICAgICAgICAgY2IoZXJyb3IpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgIGxvZygndGhyb3dpbmcgZXJyb3InKTtcbiAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgfTtcbn1cbiIsIi8qKlxuICogQGZpbGVcbiAqIEBjb3B5cmlnaHQgIDIwMTcgQmx1ZUhhY2sgSW5jLlxuICogQGxpY2Vuc2UgICAgTGljZW5zZWQgdW5kZXIgTUlULlxuICogICAgICAgICAgICAgR2l0aHViLmpzIGlzIGZyZWVseSBkaXN0cmlidXRhYmxlLlxuICovXG5cbmltcG9ydCBSZXF1ZXN0YWJsZSBmcm9tICcuL1JlcXVlc3RhYmxlJztcbmltcG9ydCBkZWJ1ZyBmcm9tICdkZWJ1Zyc7XG5jb25zdCBsb2cgPSBkZWJ1ZygnYXBpd2F5OnNjaGVkdWxlJyk7XG5cbi8qKlxuICogQSBTY2hlZHVsZSBhbGxvd3Mgc2NvcGluZyBvZiBBUEkgcmVxdWVzdHMgdG8gYSBwYXJ0aWN1bGFyIEFwaVdheSB1c2VyLlxuICovXG5jbGFzcyBTY2hlZHVsZSBleHRlbmRzIFJlcXVlc3RhYmxlIHtcbiAgIC8qKlxuICAgICogQ3JlYXRlIGEgU2NoZWR1bGUuXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gW3NjaGVkdWxlSWRdIC1cbiAgICAqIEBwYXJhbSB7UmVxdWVzdGFibGUuYXV0aH0gW2F1dGhdIC0gaW5mb3JtYXRpb24gcmVxdWlyZWQgdG8gYXV0aGVudGljYXRlIHRvIEFwaVdheVxuICAgICogQHBhcmFtIHtzdHJpbmd9IFthcGlCYXNlPWh0dHBzOi8vYXBpLmFwaXdheS5pb10gLSB0aGUgYmFzZSBBcGlXYXkgQVBJIFVSTFxuICAgICovXG4gICBjb25zdHJ1Y3RvcihzY2hlZHVsZUlkLCBhdXRoLCBhcGlCYXNlKSB7XG4gICAgICBzdXBlcihhdXRoLCBhcGlCYXNlKTtcbiAgICAgIHRoaXMuc2NoZWR1bGVJZCA9IHNjaGVkdWxlSWQ7XG4gICB9XG5cbiAgIC8qKlxuICAgICogR2V0IHNjaGVkdWxlIGluZm9ybWF0aW9uXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gW3NjaGVkdWxlSWRdXG4gICAgKiBAcGFyYW0ge1JlcXVlc3RhYmxlLmNhbGxiYWNrfSBbY2JdIC0gd2lsbCByZWNlaXZlIHRoZSBsaXN0IG9mIHJlcG9zaXRvcmllc1xuICAgICogQHJldHVybiB7UHJvbWlzZX0gLSB0aGUgcHJvbWlzZSBmb3IgdGhlIGh0dHAgcmVxdWVzdFxuICAgICovXG4gICBnZXRTY2hlZHVsZShzY2hlZHVsZUlkLCBjYikge1xuICAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnR0VUJywgYC9zY2hlZHVsZXMvJHtzY2hlZHVsZUlkfWAsIG51bGwsIGNiKTtcbiAgIH1cblxuICAgLyoqXG4gICAgKiBHZXQgc2NoZWR1bGUgbGlzdFxuICAgICogQHBhcmFtIHtzdHJpbmd9IFtzY2hlZHVsZUlkXVxuICAgICogQHBhcmFtIHtSZXF1ZXN0YWJsZS5jYWxsYmFja30gW2NiXSAtIHdpbGwgcmVjZWl2ZSB0aGUgbGlzdCBvZiByZXBvc2l0b3JpZXNcbiAgICAqIEByZXR1cm4ge1Byb21pc2V9IC0gdGhlIHByb21pc2UgZm9yIHRoZSBodHRwIHJlcXVlc3RcbiAgICAqL1xuICAgZ2V0U2NoZWR1bGVzKG9wdGlvbnMsIGNiKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnR0VUJywgYC9zY2hlZHVsZXNgLCBvcHRpb25zLCBjYik7XG4gICB9XG5cbiAgIC8qKlxuICAgICogR2V0IHVzZXIncyBzY2hlZHVsZXMgbGlzdFxuICAgICogQHBhcmFtIHtzdHJpbmd9IFt1c2VySWRdXG4gICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtXG4gICAgKiBAcGFyYW0ge1JlcXVlc3RhYmxlLmNhbGxiYWNrfSBbY2JdIC0gd2lsbCByZWNlaXZlIHRoZSBsaXN0IG9mIHJlcG9zaXRvcmllc1xuICAgICogQHJldHVybiB7UHJvbWlzZX0gLSB0aGUgcHJvbWlzZSBmb3IgdGhlIGh0dHAgcmVxdWVzdFxuICAgICovXG4gICBnZXRTY2hlZHVsZXNCeVVzZXIodXNlcklkLCBvcHRpb25zLCBjYikge1xuICAgICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ0dFVCcsIGAvc2NoZWR1bGVzL3VzZXJzLyR7dXNlcklkfWAsIG9wdGlvbnMsIGNiKTtcbiAgIH1cblxuICAgLyoqXG4gICAgKiBHZXQgcHJvamVjdCByZWxhdGVkIHNjaGVkdWxlIGxpc3RcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcHJvamVjdElkXVxuICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLVxuICAgICogQHBhcmFtIHtSZXF1ZXN0YWJsZS5jYWxsYmFja30gW2NiXSAtIHdpbGwgcmVjZWl2ZSB0aGUgbGlzdCBvZiByZXBvc2l0b3JpZXNcbiAgICAqIEByZXR1cm4ge1Byb21pc2V9IC0gdGhlIHByb21pc2UgZm9yIHRoZSBodHRwIHJlcXVlc3RcbiAgICAqL1xuICAgZ2V0U2NoZWR1bGVzQnlQcm9qZWN0KHByb2plY3RJZCwgb3B0aW9ucywgY2IpIHtcbiAgICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KCdHRVQnLCBgL3NjaGVkdWxlcy9wcm9qZWN0cy8ke3Byb2plY3RJZH1gLCBvcHRpb25zLCBjYik7XG4gICB9XG5cbiAgIC8qKlxuICAgICogQ3JlYXRlIGEgc2NoZWR1bGVcbiAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC1cbiAgICAqIEBwYXJhbSB7UmVxdWVzdGFibGUuY2FsbGJhY2t9IFtjYl0gLSB3aWxsIHJlY2VpdmUgdGhlIEFQSSByZXNwb25zZVxuICAgICogQHJldHVybiB7UHJvbWlzZX0gLSB0aGUgcHJvbWlzZSBmb3IgdGhlIGh0dHAgcmVxdWVzdFxuICAgICovXG4gICBhZGRTY2hlZHVsZShvcHRpb25zLCBjYikge1xuICAgICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ1BPU1QnLCAnL3NjaGVkdWxlcycsIG9wdGlvbnMsIGNiKTtcbiAgIH1cblxuICAgLyoqXG4gICAgKiBVcGRhdGUgZGF0YSBvZiBzY2hlZHVsZVxuICAgICogQHBhcmFtIHtzdHJpbmd9IFtzY2hlZHVsZUlkXVxuICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLVxuICAgICogQHBhcmFtIHtSZXF1ZXN0YWJsZS5jYWxsYmFja30gW2NiXSAtIHdpbGwgcmVjZWl2ZSB0aGUgQVBJIHJlc3BvbnNlXG4gICAgKiBAcmV0dXJuIHtQcm9taXNlfSAtIHRoZSBwcm9taXNlIGZvciB0aGUgaHR0cCByZXF1ZXN0XG4gICAgKi9cbiAgIHVwZGF0ZVNjaGVkdWxlKHNjaGVkdWxlSWQsIG9wdGlvbnMsIGNiKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnUFVUJywgYC9zY2hlZHVsZXMvJHtzY2hlZHVsZUlkfWAsIG9wdGlvbnMsIGNiKTtcbiAgIH1cblxuICAgLyoqXG4gICAgKiBVcGRhdGUgY3JvbiBvZiBTY2hlZHVsZVxuICAgICogQHBhcmFtIHtzdHJpbmd9IFtzY2hlZHVsZUlkXVxuICAgICogQHBhcmFtIHtzdHJpbmd9IFt3aGVuXVxuICAgICogQHBhcmFtIHtSZXF1ZXN0YWJsZS5jYWxsYmFja30gW2NiXSAtIHdpbGwgcmVjZWl2ZSB0aGUgQVBJIHJlc3BvbnNlXG4gICAgKiBAcmV0dXJuIHtQcm9taXNlfSAtIHRoZSBwcm9taXNlIGZvciB0aGUgaHR0cCByZXF1ZXN0XG4gICAgKi9cbiAgIHVwZGF0ZVNjaGVkdWxlV2hlbiAoc2NoZWR1bGVJZCwgd2hlbiwgY2IpIHtcbiAgICAgIGxldCBzY2hlZHVsZSA9ICcnXG4gICAgICBpZiAod2hlbi5lbmRzV2l0aCgnbScpKSB7XG4gICAgICAgICBzY2hlZHVsZSA9IGAke3doZW4ucmVwbGFjZSgnbScsICcnKX0gKiAqICogKmBcbiAgICAgIH0gZWxzZSBpZiAod2hlbi5lbmRzV2l0aCgnaCcpKSB7XG4gICAgICAgICBzY2hlZHVsZSA9IGAqICR7d2hlbi5yZXBsYWNlKCdoJywgJycpfSAqICogKmBcbiAgICAgIH1cbiAgICAgIGxldCBvcHRpb25zID0ge1xuICAgICAgICAgY3Jvbjogc2NoZWR1bGVcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KCdQVVQnLCBgL3NjaGVkdWxlcy8ke3NjaGVkdWxlSWR9YCwgb3B0aW9ucywgY2IpO1xuICAgfVxuXG4gICAvKipcbiAgICAqIFVwZGF0ZSBjcm9uIG9mIFNjaGVkdWxlXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gW3NjaGVkdWxlSWRdXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gW2ludGVydmFsXVxuICAgICogQHBhcmFtIHtSZXF1ZXN0YWJsZS5jYWxsYmFja30gW2NiXSAtIHdpbGwgcmVjZWl2ZSB0aGUgQVBJIHJlc3BvbnNlXG4gICAgKiBAcmV0dXJuIHtQcm9taXNlfSAtIHRoZSBwcm9taXNlIGZvciB0aGUgaHR0cCByZXF1ZXN0XG4gICAgKi9cbiAgIHVwZGF0ZVNjaGVkdWxlSW50ZXJ2YWwoc2NoZWR1bGVJZCwgaW50ZXJ2YWwsIGNiKSB7XG4gICAgICBsZXQgc2NoZWR1bGUgPSAnJ1xuICAgICAgaWYgKGludGVydmFsLmVuZHNXaXRoKCdoJykpIHtcbiAgICAgICAgIHNjaGVkdWxlID0gYCogKi8ke2ludGVydmFsLnJlcGxhY2UoJ2gnLCAnJyl9ICogKiAqYFxuICAgICAgfSBlbHNlIGlmIChpbnRlcnZhbC5lbmRzV2l0aCgnZCcpKSB7XG4gICAgICAgICBzY2hlZHVsZSA9IGAqICogKi8ke2ludGVydmFsLnJlcGxhY2UoJ2QnLCAnJyl9ICogKmBcbiAgICAgIH1cbiAgICAgIGxldCBvcHRpb25zID0ge1xuICAgICAgICAgY3Jvbjogc2NoZWR1bGVcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KCdQVVQnLCBgL3NjaGVkdWxlcy8ke3NjaGVkdWxlSWR9YCwgb3B0aW9ucywgY2IpO1xuICAgfVxuXG4gICAvKipcbiAgICAqIFVwZGF0ZSBjcm9uIG9mIFNjaGVkdWxlXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gW3NjaGVkdWxlSWRdXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gW2Nyb25dXG4gICAgKiBAcGFyYW0ge1JlcXVlc3RhYmxlLmNhbGxiYWNrfSBbY2JdIC0gd2lsbCByZWNlaXZlIHRoZSBBUEkgcmVzcG9uc2VcbiAgICAqIEByZXR1cm4ge1Byb21pc2V9IC0gdGhlIHByb21pc2UgZm9yIHRoZSBodHRwIHJlcXVlc3RcbiAgICAqL1xuICAgdXBkYXRlQ3JvbihzY2hlZHVsZUlkLCBjcm9uLCBjYikge1xuICAgICAgbGV0IG9wdGlvbnMgPSB7XG4gICAgICAgICBjcm9uOiBjcm9uXG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnUFVUJywgYC9zY2hlZHVsZXMvJHtzY2hlZHVsZUlkfWAsIG9wdGlvbnMsIGNiKTtcbiAgIH1cblxuICAgLyoqXG4gICAgKiBVcGRhdGUgc3RhdGUgb2YgU2NoZWR1bGVcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2NoZWR1bGVJZF1cbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RhdGVdXG4gICAgKiBAcGFyYW0ge1JlcXVlc3RhYmxlLmNhbGxiYWNrfSBbY2JdIC0gd2lsbCByZWNlaXZlIHRoZSBBUEkgcmVzcG9uc2VcbiAgICAqIEByZXR1cm4ge1Byb21pc2V9IC0gdGhlIHByb21pc2UgZm9yIHRoZSBodHRwIHJlcXVlc3RcbiAgICAqL1xuICAgdXBkYXRlU3RhdGUoc2NoZWR1bGVJZCwgc3RhdGUsIGNiKSB7XG4gICAgICBsZXQgb3B0aW9ucyA9IHtcbiAgICAgICAgIHN0YXRlOiBzdGF0ZVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ1BVVCcsIGAvc2NoZWR1bGVzLyR7c2NoZWR1bGVJZH1gLCBvcHRpb25zLCBjYik7XG4gICB9XG5cbiAgIC8qKlxuICAgICogRGVsZXRlIGEgc2NoZWR1bGVcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2NoZWR1bGVJZF1cbiAgICAqIEBwYXJhbSB7UmVxdWVzdGFibGUuY2FsbGJhY2t9IFtjYl0gLSB3aWxsIHJlY2VpdmUgdGhlIEFQSSByZXNwb25zZVxuICAgICogQHJldHVybiB7UHJvbWlzZX0gLSB0aGUgcHJvbWlzZSBmb3IgdGhlIGh0dHAgcmVxdWVzdFxuICAgICovXG4gICBkZWxldGVTY2hlZHVsZShzY2hlZHVsZUlkLCBjYikge1xuICAgICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ0RFTEVURScsIGAvc2NoZWR1bGVzLyR7c2NoZWR1bGVJZH1gLCBudWxsLCBjYik7XG4gICB9XG5cbiAgIC8qKlxuICAgICogRGVsZXRlIHNjaGVkdWxlcyBieSB1c2VySWRcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdXNlcklkXVxuICAgICogQHBhcmFtIHtSZXF1ZXN0YWJsZS5jYWxsYmFja30gW2NiXSAtIHdpbGwgcmVjZWl2ZSB0aGUgQVBJIHJlc3BvbnNlXG4gICAgKiBAcmV0dXJuIHtQcm9taXNlfSAtIHRoZSBwcm9taXNlIGZvciB0aGUgaHR0cCByZXF1ZXN0XG4gICAgKi9cbiAgIGRlbGV0ZVNjaGVkdWxlc0J5VXNlcih1c2VySWQsIGNiKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnREVMRVRFJywgYC9zY2hlZHVsZXMvdXNlcnMvJHt1c2VySWR9YCwgbnVsbCwgY2IpO1xuICAgfVxuXG4gICAvKipcbiAgICAqIERlbGV0ZSBzY2hlZHVsZXMgYnkgcHJvamVjdElkXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gW3Byb2plY3RJZF1cbiAgICAqIEBwYXJhbSB7UmVxdWVzdGFibGUuY2FsbGJhY2t9IFtjYl0gLSB3aWxsIHJlY2VpdmUgdGhlIEFQSSByZXNwb25zZVxuICAgICogQHJldHVybiB7UHJvbWlzZX0gLSB0aGUgcHJvbWlzZSBmb3IgdGhlIGh0dHAgcmVxdWVzdFxuICAgICovXG4gICBkZWxldGVTY2hlZHVsZXNCeVByb2plY3QocHJvamVjdElkLCBjYikge1xuICAgICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ0RFTEVURScsIGAvc2NoZWR1bGVzL3Byb2plY3RzLyR7cHJvamVjdElkfWAsIG51bGwsIGNiKTtcbiAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBTY2hlZHVsZTtcbiIsIi8qKlxuICogQGZpbGVcbiAqIEBjb3B5cmlnaHQgIDIwMTcgQmx1ZUhhY2sgSW5jLlxuICogQGxpY2Vuc2UgICAgTGljZW5zZWQgdW5kZXIgTUlULlxuICogICAgICAgICAgICAgR2l0aHViLmpzIGlzIGZyZWVseSBkaXN0cmlidXRhYmxlLlxuICovXG5cbmltcG9ydCBSZXF1ZXN0YWJsZSBmcm9tICcuL1JlcXVlc3RhYmxlJztcbmltcG9ydCBkZWJ1ZyBmcm9tICdkZWJ1Zyc7XG5jb25zdCBsb2cgPSBkZWJ1ZygnYXBpd2F5OnNjaGVkdWxlcicpO1xuXG4vKipcbiAqIEEgU2NoZWR1bGUgYWxsb3dzIHNjb3Bpbmcgb2YgQVBJIHJlcXVlc3RzIHRvIGEgcGFydGljdWxhciBBcGlXYXkgdXNlci5cbiAqL1xuY2xhc3MgU2NoZWR1bGVyIGV4dGVuZHMgUmVxdWVzdGFibGUge1xuICAgLyoqXG4gICAgKiBDcmVhdGUgYSBTY2hlZHVsZS5cbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2NoZWR1bGVySWRdIC1cbiAgICAqIEBwYXJhbSB7UmVxdWVzdGFibGUuYXV0aH0gW2F1dGhdIC0gaW5mb3JtYXRpb24gcmVxdWlyZWQgdG8gYXV0aGVudGljYXRlIHRvIEFwaVdheVxuICAgICogQHBhcmFtIHtzdHJpbmd9IFthcGlCYXNlPWh0dHBzOi8vYXBpLmFwaXdheS5pb10gLSB0aGUgYmFzZSBBcGlXYXkgQVBJIFVSTFxuICAgICovXG4gICBjb25zdHJ1Y3RvcihzY2hlZHVsZXJJZCwgYXV0aCwgYXBpQmFzZSkge1xuICAgICAgc3VwZXIoYXV0aCwgYXBpQmFzZSk7XG4gICAgICB0aGlzLnNjaGVkdWxlcklkID0gc2NoZWR1bGVySWQ7XG4gICB9XG5cbiAgIC8qKlxuICAgICogQ3JlYXRlIGEgU2NoZWR1bGVyXG4gICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtXG4gICAgKiBAcGFyYW0ge1JlcXVlc3RhYmxlLmNhbGxiYWNrfSBbY2JdIC0gd2lsbCByZWNlaXZlIHRoZSBBUEkgcmVzcG9uc2VcbiAgICAqIEByZXR1cm4ge1Byb21pc2V9IC0gdGhlIHByb21pc2UgZm9yIHRoZSBodHRwIHJlcXVlc3RcbiAgICAqL1xuICAgYWRkU2NoZWR1bGVyKG9wdGlvbnMsIGNiKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnUE9TVCcsICcvc2NoZWR1bGVycycsIG9wdGlvbnMsIGNiKTtcbiAgIH1cblxuICAgLyoqXG4gICAgKiBVcGRhdGUgU2NoZWR1bGVyXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gW3NjaGVkdWxlcklkXVxuICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLVxuICAgICogQHBhcmFtIHtSZXF1ZXN0YWJsZS5jYWxsYmFja30gW2NiXSAtIHdpbGwgcmVjZWl2ZSB0aGUgQVBJIHJlc3BvbnNlXG4gICAgKiBAcmV0dXJuIHtQcm9taXNlfSAtIHRoZSBwcm9taXNlIGZvciB0aGUgaHR0cCByZXF1ZXN0XG4gICAgKi9cbiAgIHVwZGF0ZVNjaGVkdWxlcihzY2hlZHVsZXJJZCwgb3B0aW9ucywgY2IpIHtcbiAgICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KCdQVVQnLCBgL3NjaGVkdWxlcnMvJHtzY2hlZHVsZXJJZH1gLCBvcHRpb25zLCBjYik7XG4gICB9XG5cbiAgIC8qKlxuICAgICogQWRkIFNjaGVkdWxlc1xuICAgICogQHBhcmFtIHtzdHJpbmd9IFtzY2hlZHVsZXJJZF1cbiAgICAqIEBwYXJhbSB7UmVxdWVzdGFibGUuY2FsbGJhY2t9IFtjYl0gLSB3aWxsIHJlY2VpdmUgdGhlIGxpc3Qgb2YgcmVwb3NpdG9yaWVzXG4gICAgKiBAcmV0dXJuIHtQcm9taXNlfSAtIHRoZSBwcm9taXNlIGZvciB0aGUgaHR0cCByZXF1ZXN0XG4gICAgKi9cbiAgIGdldFNjaGVkdWxlcihzY2hlZHVsZXJJZCwgY2IpIHtcbiAgICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ0dFVCcsIGAvc2NoZWR1bGVycy8ke3NjaGVkdWxlcklkfWAsIG51bGwsIGNiKTtcbiAgIH1cblxuICAgLyoqXG4gICAgKiBHZXQgU2NoZWR1bGVyIGxpc3RcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2NoZWR1bGVySWRdXG4gICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtXG4gICAgKiBAcGFyYW0ge1JlcXVlc3RhYmxlLmNhbGxiYWNrfSBbY2JdIC0gd2lsbCByZWNlaXZlIHRoZSBsaXN0IG9mIHJlcG9zaXRvcmllc1xuICAgICogQHJldHVybiB7UHJvbWlzZX0gLSB0aGUgcHJvbWlzZSBmb3IgdGhlIGh0dHAgcmVxdWVzdFxuICAgICovXG4gICBnZXRTY2hlZHVsZXJzKG9wdGlvbnMsIGNiKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnR0VUJywgYC9zY2hlZHVsZXJzYCwgb3B0aW9ucywgY2IpO1xuICAgfVxuXG4gICAvKipcbiAgICAqIERlbGV0ZSBhIFNjaGVkdWxlclxuICAgICogQHBhcmFtIHtzdHJpbmd9IFtzY2hlZHVsZXJJZF1cbiAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC1cbiAgICAqIEBwYXJhbSB7UmVxdWVzdGFibGUuY2FsbGJhY2t9IFtjYl0gLSB3aWxsIHJlY2VpdmUgdGhlIEFQSSByZXNwb25zZVxuICAgICogQHJldHVybiB7UHJvbWlzZX0gLSB0aGUgcHJvbWlzZSBmb3IgdGhlIGh0dHAgcmVxdWVzdFxuICAgICovXG4gICBkZWxldGVTY2hlZHVsZXIoc2NoZWR1bGVySWQsIG9wdGlvbnMsIGNiKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnREVMRVRFJywgYC9zY2hlZHVsZXJzLyR7c2NoZWR1bGVySWR9YCwgb3B0aW9ucywgY2IpO1xuICAgfVxuXG4gICAvKipcbiAgICAqIERlbGV0ZSBhIFNjaGVkdWxlIGluIGFTY2hlZHVsZXJcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2NoZWR1bGVJZF1cbiAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC1cbiAgICAqIEBwYXJhbSB7UmVxdWVzdGFibGUuY2FsbGJhY2t9IFtjYl0gLSB3aWxsIHJlY2VpdmUgdGhlIEFQSSByZXNwb25zZVxuICAgICogQHJldHVybiB7UHJvbWlzZX0gLSB0aGUgcHJvbWlzZSBmb3IgdGhlIGh0dHAgcmVxdWVzdFxuICAgICovXG4gICBkZWxldGVTY2hlZHVsZShzY2hlZHVsZUlkLCBvcHRpb25zLCBjYikge1xuICAgICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ0RFTEVURScsIGAvc2NoZWR1bGVycy8ke3NjaGVkdWxlSWR9YCwgb3B0aW9ucywgY2IpO1xuICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFNjaGVkdWxlcjtcbiIsIi8qKlxuICogQGZpbGVcbiAqIEBjb3B5cmlnaHQgIDIwMTcgQmx1ZUhhY2sgSW5jLlxuICogQGxpY2Vuc2UgICAgTGljZW5zZWQgdW5kZXIgTUlULlxuICogICAgICAgICAgICAgR2l0aHViLmpzIGlzIGZyZWVseSBkaXN0cmlidXRhYmxlLlxuICovXG5pbXBvcnQgUmVxdWVzdGFibGUgZnJvbSAnLi9SZXF1ZXN0YWJsZSc7XG5pbXBvcnQgZGVidWcgZnJvbSAnZGVidWcnO1xuY29uc3QgbG9nID0gZGVidWcoJ2FwaXdheTp1c2VyJyk7XG5cbi8qKlxuICogQSBVc2VyIGFsbG93cyBzY29waW5nIG9mIEFQSSByZXF1ZXN0cyB0byBhIHBhcnRpY3VsYXIgQXBpV2F5IHVzZXIuXG4gKi9cbmNsYXNzIFVzZXIgZXh0ZW5kcyBSZXF1ZXN0YWJsZSB7XG4gICAvKipcbiAgICAqIENyZWF0ZSBhIFVzZXIuXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gW3VzZXJuYW1lXSAtIHRoZSB1c2VyIHRvIHVzZSBmb3IgdXNlci1zY29wZWQgcXVlcmllc1xuICAgICogQHBhcmFtIHtSZXF1ZXN0YWJsZS5hdXRofSBbYXV0aF0gLSBpbmZvcm1hdGlvbiByZXF1aXJlZCB0byBhdXRoZW50aWNhdGUgdG8gQXBpV2F5XG4gICAgKiBAcGFyYW0ge3N0cmluZ30gW2FwaUJhc2U9aHR0cHM6Ly9hcGkuYXBpd2F5LmlvXSAtIHRoZSBiYXNlIEFwaVdheSBBUEkgVVJMXG4gICAgKi9cbiAgIGNvbnN0cnVjdG9yKHVzZXJuYW1lLCBhdXRoLCBhcGlCYXNlKSB7XG4gICAgICBzdXBlcihhdXRoLCBhcGlCYXNlKTtcbiAgICAgIHRoaXMuX191c2VyID0gdXNlcm5hbWU7XG4gICB9XG5cbiAgIC8qKlxuICAgICogR2V0IHRoZSB1c2VyJ3MgcHJvZmlsZVxuICAgICogQHBhcmFtIHtzdHJpbmd9IFt1c2VySWRdXG4gICAgKiBAcGFyYW0ge1JlcXVlc3RhYmxlLmNhbGxiYWNrfSBbY2JdIC0gd2lsbCByZWNlaXZlIHRoZSBsaXN0IG9mIHJlcG9zaXRvcmllc1xuICAgICogQHJldHVybiB7UHJvbWlzZX0gLSB0aGUgcHJvbWlzZSBmb3IgdGhlIGh0dHAgcmVxdWVzdFxuICAgICovXG4gICBnZXRQcm9maWxlKHVzZXJJZCwgY2IpIHtcbiAgICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ0dFVCcsIGAvdXNlcnMvJHt1c2VySWR9YCwgbnVsbCwgY2IpO1xuICAgfVxuXG4gICAvKipcbiAgICAqIFVwZGF0ZSB1c2VyJ3MgcHJvZmlsZSAoV2lsbCBjcmVhdGUgYSBuZXcgdXNlciBpZiBub3QgZXhpc3QpXG4gICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtXG4gICAgKiBAcGFyYW0ge1JlcXVlc3RhYmxlLmNhbGxiYWNrfSBbY2JdIC0gd2lsbCByZWNlaXZlIHRoZSBBUEkgcmVzcG9uc2VcbiAgICAqIEByZXR1cm4ge1Byb21pc2V9IC0gdGhlIHByb21pc2UgZm9yIHRoZSBodHRwIHJlcXVlc3RcbiAgICAqL1xuICAgdXBkYXRlUHJvZmlsZShvcHRpb25zLCBjYikge1xuICAgICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ1BPU1QnLCAnL3VzZXJzJywgb3B0aW9ucywgY2IpO1xuICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFVzZXI7XG4iXX0="}